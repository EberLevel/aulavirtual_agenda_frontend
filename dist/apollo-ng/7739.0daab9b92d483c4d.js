"use strict";(self.webpackChunkapollo_ng=self.webpackChunkapollo_ng||[]).push([[7739],{120:(lt,x,a)=>{a.r(x),a.d(x,{BolsaTrabajoModule:()=>st});var I=a(177),p=a(9417),O=a(612),f=a(9280),y=a(4714),u=a(1141),k=a(9266),g=a(5473),c=a(2242),X=a(1305),S=a(3973),D=a(563),C=a(6296),F=a(8150),_=a(1579),T=a(9998),E=a(7835),L=a(320),$=a(8542),V=a(4799),R=a(1142),U=a(6781),m=a(2100),B=a(9664),A=a(5558),h=a(9437),b=a(7673),J=a(8032),v=a.n(J),M=a(8141),Y=a(3718),P=a.n(Y),t=a(7019),d=a(8763),j=a(5779),N=a(3088);const Z=["ckeditor"];function W(r,i){1&r&&(t.j41(0,"span",2),t.EFF(1,"Registrar oferta laboral"),t.k0s())}const z=function(){return["PENDIENTE","INICIADO","FINALIZADO","CANCELADO"]},H=function(){return{height:"90px"}};function Q(r,i){if(1&r){const e=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-dropdown",6),t.bIt("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.Njj(s.estado=n)}),t.k0s(),t.j41(4,"small",7),t.EFF(5,"Campo obligatorio *"),t.k0s()(),t.j41(6,"div",5)(7,"span",8),t.nrm(8,"i",9),t.j41(9,"input",10),t.bIt("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.Njj(s.empresa=n)}),t.k0s(),t.j41(10,"label",11),t.EFF(11,"Empresa"),t.k0s()(),t.j41(12,"small",7),t.EFF(13,"Campo obligatorio *"),t.k0s()(),t.j41(14,"div",5)(15,"span",8),t.nrm(16,"i",9),t.j41(17,"input",12),t.bIt("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.Njj(s.telefono=n)}),t.k0s(),t.j41(18,"label",13),t.EFF(19,"Tel\xe9fono"),t.k0s()(),t.j41(20,"small",7),t.EFF(21,"Campo obligatorio *"),t.k0s()(),t.j41(22,"div",5)(23,"span",8),t.nrm(24,"i",9),t.j41(25,"input",14),t.bIt("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.Njj(s.nombre_puesto=n)}),t.k0s(),t.j41(26,"label",15),t.EFF(27,"Nombre puesto"),t.k0s()(),t.j41(28,"small",7),t.EFF(29,"Campo obligatorio *"),t.k0s()(),t.j41(30,"div",16)(31,"label",17),t.EFF(32,"Requisitos"),t.k0s(),t.j41(33,"p-editor",18),t.bIt("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.Njj(s.requisitos=n)}),t.k0s()()()(),t.j41(34,"div",19)(35,"button",20),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.Guardaruser())}),t.k0s(),t.j41(36,"button",21),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.closeModal())}),t.k0s()()}if(2&r){const e=t.XpG();t.R7$(3),t.Y8G("options",t.lJ4(8,z))("ngModel",e.estado),t.R7$(6),t.Y8G("ngModel",e.empresa),t.R7$(8),t.Y8G("ngModel",e.telefono),t.R7$(8),t.Y8G("ngModel",e.nombre_puesto),t.R7$(8),t.Aen(t.lJ4(9,H)),t.Y8G("ngModel",e.requisitos)}}let G=(()=>{class r{constructor(e,o,n,s,l,it){this.router=e,this.primengConfig=o,this.translate=n,this.ref=s,this.empresaService=l,this.config=it,this.visible=!1,this.id=0,this.estado="",this.empresa="",this.telefono="",this.nombre_puesto="",this.requisitos="",this.Editor=P(),this.config.data?(this.id=this.config.data.id,this.estado=this.config.data.estado,this.empresa=this.config.data.empresa,this.telefono=this.config.data.telefono,this.nombre_puesto=this.config.data.nombre_puesto,this.requisitos=this.config.data.requisitos):(this.id=0,this.estado="",this.empresa="",this.telefono="",this.nombre_puesto="",this.requisitos="")}Guardaruser(){const e={id:this.id,estado:this.estado,empresa:this.empresa,telefono:this.telefono,nombre_puesto:this.nombre_puesto,requisitos:this.requisitos};this.id>0?this.empresaService.actualizarOfertaLaboral(e,this.id).pipe((0,M.M)(o=>{this.closeModal(),v().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})}),(0,h.W)(o=>(console.error("Error al guardar la oferta laboral",o),(0,b.of)(o)))).subscribe():(this.empresaService.guardarOfertaLaboral(e).pipe((0,M.M)(o=>{this.closeModal(),v().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})}),(0,h.W)(o=>(console.error("Error al guardar la oferta laboral",o),(0,b.of)(o)))).subscribe(),v().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{}))}closeDialog(){this.visible=!1}closeModal(){this.ref.close({register:!1})}static#t=this.\u0275fac=function(o){return new(o||r)(t.rXU(d.Ix),t.rXU(j.r1),t.rXU(B.c$),t.rXU(m.Pw),t.rXU(N.O),t.rXU(m.sb))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-registra-oferta-laboral"]],viewQuery:function(o,n){if(1&o&&t.GBs(Z,5),2&o){let s;t.mGM(s=t.lsd())&&(n.ckeditor=s.first)}},decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row"],[1,"grid","p-fluid"],[1,"field","md:col-6"],["placeholder","Seleccione un Estado",3,"options","ngModel","ngModelChange"],[2,"color","brown"],[1,"p-float-label","p-input-icon-left"],[1,"pi","pi-user-edit"],["type","text","id","empresa","pInputText","",3,"ngModel","ngModelChange"],["for","empresa"],["type","text","id","telefono","pInputText","",3,"ngModel","ngModelChange"],["for","telefono"],["type","text","id","nombre_puesto","pInputText","",3,"ngModel","ngModelChange"],["for","nombre_puesto"],[1,"md:col-12"],["for",""],[3,"ngModel","ngModelChange"],[1,"row","mb-5","text-right"],["pButton","","label","Guardar","icon","pi pi-plus","id","btnGuardar",1,"p-button-success","mr-2",3,"click"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"]],template:function(o,n){1&o&&(t.j41(0,"p-panel"),t.DNE(1,W,2,0,"ng-template",0),t.DNE(2,Q,37,10,"ng-template",1),t.k0s())},dependencies:[g.Z,j.Ei,p.me,p.BC,p.vS,u._f,c.S,F.ms,R.KE]})}return r})();function K(r,i){1&r&&(t.j41(0,"span",2),t.EFF(1,"Buscar ofertas laborales"),t.k0s())}function w(r,i){if(1&r){const e=t.RV6();t.j41(0,"div",9)(1,"div",10)(2,"span",11),t.nrm(3,"input",12),t.k0s()(),t.j41(4,"div",13)(5,"button",14),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.navigateToNuevo(0))}),t.k0s()()()}}function q(r,i){1&r&&(t.j41(0,"tr")(1,"th",15),t.EFF(2,"Acciones"),t.k0s(),t.j41(3,"th",15),t.EFF(4,"ID"),t.k0s(),t.j41(5,"th",15),t.EFF(6,"Estado"),t.k0s(),t.j41(7,"th",15),t.EFF(8,"Empresa"),t.k0s(),t.j41(9,"th",15),t.EFF(10,"Tel\xe9fono"),t.k0s(),t.j41(11,"th",15),t.EFF(12,"Puesto"),t.k0s()())}const tt=function(){return{color:"var(--primary-color)","font-size":"1.5rem"}};function et(r,i){if(1&r){const e=t.RV6();t.j41(0,"tr")(1,"td",16)(2,"button",17),t.bIt("click",function(){const s=t.eBV(e).$implicit,l=t.XpG(2);return t.Njj(l.navigateToNuevo(s.id))}),t.nrm(3,"i",18),t.k0s(),t.j41(4,"button",19),t.bIt("click",function(){const s=t.eBV(e).$implicit,l=t.XpG(2);return t.Njj(l.eliminar(s.id))}),t.EFF(5,"X "),t.k0s()(),t.j41(6,"td"),t.EFF(7),t.k0s(),t.j41(8,"td"),t.EFF(9),t.k0s(),t.j41(10,"td")(11,"a",20),t.EFF(12),t.k0s()(),t.j41(13,"td"),t.EFF(14),t.k0s(),t.j41(15,"td"),t.EFF(16),t.k0s()()}if(2&r){const e=i.$implicit;t.R7$(3),t.Aen(t.lJ4(7,tt)),t.R7$(4),t.JRh(e.id),t.R7$(2),t.JRh(e.estado),t.R7$(3),t.JRh(e.empresa),t.R7$(2),t.JRh(e.telefono),t.R7$(2),t.JRh(e.nombre_puesto)}}function ot(r,i){if(1&r&&(t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6),t.DNE(4,w,6,0,"ng-template",7),t.DNE(5,q,13,0,"ng-template",0),t.DNE(6,et,17,8,"ng-template",8),t.k0s()()()()),2&r){const e=t.XpG();t.R7$(3),t.Y8G("value",e.ofertasLaborales)}}let at=(()=>{class r{constructor(e,o,n){this.router=e,this.dialogService=o,this.ofertasLaboralesService=n,this.ofertasLaborales=[],this.ofertaLaboral={},this.ofertasLaboralesService.getOfertasLaborales().subscribe(s=>{console.log("Lista de ofertas laborales: ",s),this.ofertasLaborales=s.data})}navigateToNuevo(e){e>0?this.ofertasLaboralesService.getOfertaLaboral(e).subscribe(o=>{this.ofertaLaboral=o.data,this.ref=this.dialogService.open(G,{width:"60%",styleClass:"custom-dialog-header",data:this.ofertaLaboral}),this.ref.onClose.subscribe(n=>{this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload"}),console.log(this.ofertaLaboral)}):(this.ref=this.dialogService.open(G,{width:"60%",styleClass:"custom-dialog-header",data:this.ofertaLaboral}),this.ref.onClose.subscribe(o=>{this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload"}))}eliminar(e){this.ofertasLaboralesService.eliminarOfertaLaboral(e).pipe((0,A.n)(()=>(console.log("Oferta laboral eliminada"),this.ofertasLaboralesService.getOfertasLaborales())),(0,h.W)(o=>(console.error("Error eliminando oferta laboral:",o),(0,b.of)({data:[]})))).subscribe(o=>{console.log("Lista de ofertas laborales",o),this.ofertasLaborales=o.data})}static#t=this.\u0275fac=function(o){return new(o||r)(t.rXU(d.Ix),t.rXU(m.o3),t.rXU(N.O))};static#e=this.\u0275cmp=t.VBU({type:r,selectors:[["app-bolsa-trabajo"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row"],[1,"grid","p-fluid"],[1,"field","md:col-12"],[1,"w-full","custom-search-input",3,"value"],["pTemplate","caption"],["pTemplate","body"],[1,"flex","justify-content-between","flex-wrap","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar Oferta",1,"w-full"],[1,"mb-2"],["pButton","","label","Nuevo","icon","pi pi-user-plus",1,"p-button-primary","mr-2",2,"border-radius","30px",3,"click"],[2,"min-width","10rem"],[1,"text-center","flex","gap-2"],["pButton","","title","Editar rol",1,"p-button-rounded","p-button-text","custom-edit-button",2,"width","fit-content",3,"click"],["aria-hidden","true",1,"pi","pi-user-edit"],["pButton","","title","Eliminar rol",1,"p-button-rounded","p-button-text","custom-edit-button",2,"width","fit-content",3,"click"],["href",""]],template:function(o,n){1&o&&(t.j41(0,"p-panel"),t.DNE(1,K,2,0,"ng-template",0),t.DNE(2,ot,7,1,"ng-template",1),t.k0s())},dependencies:[g.Z,j.Ei,u._f,f.XI,c.S]})}return r})(),rt=(()=>{class r{static#t=this.\u0275fac=function(o){return new(o||r)};static#e=this.\u0275mod=t.$C({type:r});static#o=this.\u0275inj=t.G2t({imports:[d.iI.forChild([{path:"",component:at}]),d.iI]})}return r})();var nt=a(7852);let st=(()=>{class r{static#t=this.\u0275fac=function(o){return new(o||r)};static#e=this.\u0275mod=t.$C({type:r});static#o=this.\u0275inj=t.G2t({imports:[I.MD,g.b,p.YN,O.rO,f.bG,y.wZ,u.tm,k.SW,c.u,X.f,S.d0,D.Z,C.iV,F.kr,_.d,T.MB,E.H,L.e,$.S,T.MB,f.bG,E.H,V.F,L.e,R.sv,U.P,m.k_,B.h,c.u,C.iV,rt,nt.w]})}return r})()}}]);