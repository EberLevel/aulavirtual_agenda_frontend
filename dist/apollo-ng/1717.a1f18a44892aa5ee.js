"use strict";(self.webpackChunkapollo_ng=self.webpackChunkapollo_ng||[]).push([[1717],{1717:(dt,g,n)=>{n.r(g),n.d(g,{CursosDocenteModule:()=>pt});var h=n(177),b=n(9998),_=n(9417),p=n(9280),f=n(1141),C=n(2242),E=n(3973),T=n(563),k=n(6296),D=n(8150),d=n(5473),y=n(612),I=n(1579),B=n(9266),R=n(4714),v=n(320),F=n(7835),G=n(1305),x=n(8542),V=n(4799),$=n(1142),N=n(6781),j=n(2100),S=n(9664),u=n(8763),t=n(7019),l=n(4960),X=n(3157),P=n(8032),m=n.n(P),L=n(9010),w=n(2362),A=n(3431),H=n(7533),M=n(3088),O=n(8774),J=n(5489),U=n(5779);const z=["filter"],Y=["dt1"];function Z(s,a){1&s&&(t.j41(0,"span",2),t.EFF(1,"Bandeja de Unidad Didactica del Docente"),t.k0s())}function Q(s,a){if(1&s){const o=t.RV6();t.j41(0,"div",12)(1,"div",13)(2,"span",14)(3,"input",15,16),t.bIt("input",function(i){t.eBV(o);const r=t.XpG(2);return t.Njj(r.onGlobalFilter(i))}),t.k0s()()()()}}function W(s,a){1&s&&(t.j41(0,"tr")(1,"th",17),t.EFF(2," C\xf3digo "),t.k0s(),t.j41(3,"th",17),t.EFF(4," Nombre de la Unidad Didactica "),t.k0s(),t.j41(5,"th",17),t.EFF(6," Acciones "),t.k0s(),t.j41(7,"th",17),t.EFF(8," Configuraci\xf3n "),t.k0s(),t.j41(9,"th",17),t.EFF(10," Cr\xe9ditos "),t.k0s(),t.j41(11,"th",17),t.EFF(12," % Cr\xe9ditos "),t.k0s(),t.j41(13,"th",17),t.EFF(14," Horas Te\xf3ricas "),t.k0s(),t.j41(15,"th",17),t.EFF(16," Horas Practicas "),t.k0s(),t.j41(17,"th",17),t.EFF(18," Total Horas "),t.k0s(),t.j41(19,"th",17),t.EFF(20," Ciclo "),t.k0s(),t.j41(21,"th",17),t.EFF(22," Carrera t\xe9cnica "),t.k0s(),t.j41(23,"th",17),t.EFF(24," M\xf3dulo "),t.k0s(),t.j41(25,"th",17),t.EFF(26," Competencia "),t.k0s()())}function K(s,a){if(1&s){const o=t.RV6();t.j41(0,"button",29),t.bIt("click",function(){t.eBV(o);const i=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.verAlumnos(i))}),t.EFF(1," Al "),t.k0s()}}function q(s,a){if(1&s){const o=t.RV6();t.j41(0,"button",30),t.bIt("click",function(){t.eBV(o);const i=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.verHorarios(i))}),t.EFF(1," Ho "),t.k0s()}}function tt(s,a){if(1&s){const o=t.RV6();t.j41(0,"button",31),t.bIt("click",function(){t.eBV(o);const i=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.verAsistencia(i))}),t.EFF(1," As "),t.k0s()}}function ot(s,a){if(1&s){const o=t.RV6();t.j41(0,"button",32),t.bIt("click",function(){t.eBV(o);const i=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.verTemas(i.temas))}),t.EFF(1," Te "),t.k0s()}}function et(s,a){if(1&s){const o=t.RV6();t.j41(0,"button",33),t.bIt("click",function(){t.eBV(o);const i=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.verEvaluaciones(i))}),t.EFF(1," Ev "),t.k0s()}}function nt(s,a){if(1&s){const o=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td")(6,"div",18)(7,"button",19),t.bIt("click",function(){const r=t.eBV(o).$implicit,c=t.XpG(2);return t.Njj(c.verSyllabus(r.syllabus))}),t.EFF(8," Sy "),t.k0s(),t.DNE(9,K,2,0,"button",20),t.DNE(10,q,2,0,"button",21),t.DNE(11,tt,2,0,"button",22),t.DNE(12,ot,2,0,"button",23),t.DNE(13,et,2,0,"button",24),t.k0s()(),t.j41(14,"td")(15,"button",25),t.bIt("click",function(){const r=t.eBV(o).$implicit,c=t.XpG(2);return t.Njj(c.navigateToDetalle(r))}),t.k0s(),t.j41(16,"button",26),t.bIt("click",function(){const r=t.eBV(o).$implicit,c=t.XpG(2);return t.Njj(c.navigateToEdit(r))}),t.k0s(),t.j41(17,"button",27),t.bIt("click",function(){const r=t.eBV(o).$implicit,c=t.XpG(2);return t.Njj(c.navigateToDelete(r.id))}),t.k0s(),t.j41(18,"button",28),t.bIt("click",function(){const r=t.eBV(o).$implicit,c=t.XpG(2);return t.Njj(c.navigateToDuplicar(r))}),t.k0s()(),t.j41(19,"td"),t.EFF(20),t.k0s(),t.j41(21,"td"),t.EFF(22),t.k0s(),t.j41(23,"td"),t.EFF(24),t.k0s(),t.j41(25,"td"),t.EFF(26),t.k0s(),t.j41(27,"td"),t.EFF(28),t.k0s(),t.j41(29,"td"),t.EFF(30),t.k0s(),t.j41(31,"td"),t.EFF(32),t.k0s(),t.j41(33,"td"),t.EFF(34),t.k0s(),t.j41(35,"td"),t.EFF(36),t.k0s()()}if(2&s){const o=a.$implicit,e=t.XpG(2);t.R7$(2),t.JRh(o.codigo),t.R7$(2),t.JRh(o.nombre),t.R7$(5),t.Y8G("ngIf",8!==e.rolId),t.R7$(1),t.Y8G("ngIf",8!==e.rolId),t.R7$(1),t.Y8G("ngIf",8!==e.rolId),t.R7$(1),t.Y8G("ngIf",8!==e.rolId),t.R7$(1),t.Y8G("ngIf",8!==e.rolId),t.R7$(7),t.JRh(o.cantidad_de_creditos),t.R7$(2),t.JRh(o.porcentaje_de_creditos),t.R7$(2),t.JRh(o.cantidad_de_horas),t.R7$(2),t.JRh(o.horas_practicas),t.R7$(2),t.JRh(o.totalHoras),t.R7$(2),t.JRh(o.ciclo_nombre),t.R7$(2),t.JRh(o.carrera_nombre),t.R7$(2),t.JRh(o.area_de_formacion_nombre),t.R7$(2),t.JRh(o.modulo_formativo_nombre)}}function st(s,a){1&s&&(t.j41(0,"tr")(1,"td",34),t.EFF(2," No se encontraron registros "),t.k0s()())}function it(s,a){1&s&&(t.j41(0,"tr")(1,"td",34),t.EFF(2," Cargando registros. Por favor espere. "),t.k0s()())}function rt(s,a){if(1&s&&(t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.DNE(5,Q,5,0,"ng-template",8),t.DNE(6,W,27,0,"ng-template",0),t.DNE(7,nt,37,16,"ng-template",9),t.DNE(8,st,3,0,"ng-template",10),t.DNE(9,it,3,0,"ng-template",11),t.k0s()()()()),2&s){const o=t.XpG();t.R7$(3),t.Y8G("value",o.carrerastecnicasList)("rows",10)("loading",o.loading)("rowHover",!0)("paginator",!0)}}let at=(()=>{class s{constructor(o,e,i,r,c){this.dialogService=o,this.cursosService=e,this.helpersService=i,this.cursoService=r,this.router=c,this.loading=!1,this.miembro=[],this.miembrosActualizados=new t.bkB,this.carrerastecnicasList=[],this.originalCarrerastecnicasList=[]}ngOnInit(){this.rolId=this.helpersService.getRolId(),console.log("ROL ID",this.rolId),this.docenteId=this.helpersService.getDocenteId(),this.domain_id=this.helpersService.getDominioId(),this.config={data:{data:{id:this.docenteId,total_creditos:30}}},console.log(this.docenteId),this.listarCursos()}listarCursos(){8===this.rolId?this.cursoService.getCursosPorDomain(this.domain_id).subscribe(o=>{this.carrerastecnicasList=o.map(e=>{const i=parseFloat(e.cantidad_de_horas)||0,r=parseFloat(e.horas_practicas)||0;return e.totalHoras=i+r,e}),this.originalCarrerastecnicasList=[...this.carrerastecnicasList]},o=>{console.error("Error al obtener cursos por dominio",o)}):(console.log("aaaaaaaaaaaaaaafirst"),this.cursosService.getCursosByDocente(this.config.data.data.id).subscribe(o=>{this.carrerastecnicasList=o.map(e=>{const i=parseFloat(e.cantidad_de_horas)||0,r=parseFloat(e.horas_practicas)||0;return e.totalHoras=i+r,e}),this.originalCarrerastecnicasList=[...this.carrerastecnicasList]},o=>{console.error("Error al obtener cursos por docente",o)}))}navigateAddCurso(){this.ref=this.dialogService.open(l.Z,{width:"60%",styleClass:"custom-dialog-header",data:{id:this.config.data.id,total_creditos:this.config.data.data.total_creditos,acciones:"add"}}),this.ref.onClose.subscribe(()=>{this.listarCursos()})}navigateToDetalle(o){this.ref=this.dialogService.open(l.Z,{width:"80%",styleClass:"custom-dialog-header",data:{id:this.config.data.data.id,total_creditos:this.config.data.data.total_creditos,acciones:"ver",data:o}}),this.ref.onClose.subscribe(()=>{this.listarCursos()})}navigateToEdit(o){this.ref=this.dialogService.open(l.Z,{width:"60%",styleClass:"custom-dialog-header",data:{id:this.config.data.id,total_creditos:this.config.data.data.total_creditos,acciones:"editar",data:o}}),this.ref.onClose.subscribe(()=>{this.listarCursos()})}navigateToDuplicar(o){this.ref=this.dialogService.open(l.Z,{width:"60%",styleClass:"custom-dialog-header",data:{id:this.config.data.data.id,total_creditos:this.config.data.data.total_creditos,acciones:"duplicar",data:o}}),this.ref.onClose.subscribe(()=>{this.listarCursos()})}navigateToDelete(o){m().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminarlo",customClass:{popup:"custom-swal-popup"},didOpen:()=>{const e=document.querySelector(".swal2-container");e&&e.setAttribute("style","z-index: 2147483647 !important")}}).then(e=>{e.isConfirmed&&this.cursosService.eliminarCurso(o).subscribe(()=>{m().fire({title:"Eliminado",text:"La carrera t\xe9cnica ha sido eliminada.",icon:"success",showClass:{popup:"\n                  background-color: #78CBF2;\n                  color: white;\n                  z-index: 10000!important;\n                "},didOpen:()=>{const i=document.querySelector(".swal2-container");i&&i.setAttribute("style","z-index: 2147483647 !important")}}),this.listarCursos()},()=>{m().fire("Error","Hubo un problema al eliminar la carrera t\xe9cnica.","error")})})}onGlobalFilter(o){const e=o.target.value.toLowerCase();this.carrerastecnicasList=e?this.originalCarrerastecnicasList.filter(i=>i.codigo&&i.codigo.toLowerCase().includes(e)||i.nombres&&i.nombres.toLowerCase().includes(e)||i.cursos&&i.cursos.toLowerCase().includes(e)):[...this.originalCarrerastecnicasList]}verTemas(o){console.log(o)}verEvaluaciones(o){this.ref=this.dialogService.open(A.t,{width:"60%",styleClass:"custom-dialog-header",data:{data:o}}),console.log("evaluaciones",o),this.ref.onClose.subscribe(()=>{this.listarCursos()})}verForos(o){this.ref=this.dialogService.open(H.F,{width:"60%",styleClass:"custom-dialog-header",data:{data:o}}),this.ref.onClose.subscribe(()=>{this.listarCursos()})}verSyllabus(o){console.log(o)}verAlumnos(o){this.ref=this.dialogService.open(L.z,{width:"60%",styleClass:"custom-dialog-header",data:{cursoId:o.id,domainId:o.domain_id,cursoNombre:o.nombre}}),this.ref.onClose.subscribe(()=>{this.listarCursos()})}verHorarios(o){this.ref=this.dialogService.open(X.p,{width:"60%",styleClass:"custom-dialog-header",data:{data:o}}),this.ref.onClose.subscribe(()=>{this.listarCursos()})}verAsistencia(o){this.ref=this.dialogService.open(w.q,{width:"80%",styleClass:"custom-dialog-header",data:{cursoId:o.id,domainId:o.domain_id,fecha:null,cursoNombre:o.nombre,docenteId:o.docente_id}})}static#t=this.\u0275fac=function(e){return new(e||s)(t.rXU(j.o3),t.rXU(M.O),t.rXU(O.V),t.rXU(J.Y),t.rXU(u.Ix))};static#o=this.\u0275cmp=t.VBU({type:s,selectors:[["app-cursos-docentes"]],viewQuery:function(e,i){if(1&e&&(t.GBs(z,5),t.GBs(Y,5)),2&e){let r;t.mGM(r=t.lsd())&&(i.filter=r.first),t.mGM(r=t.lsd())&&(i.tabledt1=r.first)}},inputs:{miembro:"miembro"},outputs:{miembrosActualizados:"miembrosActualizados"},decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover","paginator"],["dt1",""],["pTemplate","caption"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar Unidad Didactica",1,"w-full",3,"input"],["filter",""],["scope","col",2,"min-width","10rem"],[1,"button-group"],["pButton","","pTooltip","Ver Syllabus","tooltipPosition","top",1,"p-button-rounded","p-button-info","button-custom",2,"background","gray",3,"click"],["pButton","","class","p-button-rounded p-button-success button-custom","style","background: blue","pTooltip","Ver Alumnos","tooltipPosition","top",3,"click",4,"ngIf"],["pButton","","class","p-button-rounded p-button-warning button-custom","style","background: yellow","pTooltip","Ver Horarios","tooltipPosition","top",3,"click",4,"ngIf"],["pButton","","class","p-button-rounded p-button-primary button-custom","style","background: rgb(103, 87, 87)","pTooltip","Ver Asistencia","tooltipPosition","top",3,"click",4,"ngIf"],["pButton","","class","p-button-rounded p-button-secondary button-custom","style","background: green","pTooltip","Ver Temas","tooltipPosition","top",3,"click",4,"ngIf"],["pButton","","class","p-button-rounded p-button-help button-custom","style","background: rgb(24, 15, 67)","pTooltip","Ver Evaluaciones","tooltipPosition","top",3,"click",4,"ngIf"],["pButton","","icon","pi pi-eye","title","Ver",1,"p-button-rounded","p-button-text","p-button-success",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-pencil","title","Editar",1,"p-button-rounded","p-button-text","p-button-warning",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-trash","title","Eliminar",1,"p-button-rounded","p-button-text","p-button-danger",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-copy",1,"p-button-rounded","p-button-text","p-button-secondary",2,"width","70px","border-radius","30px",3,"click"],["pButton","","pTooltip","Ver Alumnos","tooltipPosition","top",1,"p-button-rounded","p-button-success","button-custom",2,"background","blue",3,"click"],["pButton","","pTooltip","Ver Horarios","tooltipPosition","top",1,"p-button-rounded","p-button-warning","button-custom",2,"background","yellow",3,"click"],["pButton","","pTooltip","Ver Asistencia","tooltipPosition","top",1,"p-button-rounded","p-button-primary","button-custom",2,"background","rgb(103, 87, 87)",3,"click"],["pButton","","pTooltip","Ver Temas","tooltipPosition","top",1,"p-button-rounded","p-button-secondary","button-custom",2,"background","green",3,"click"],["pButton","","pTooltip","Ver Evaluaciones","tooltipPosition","top",1,"p-button-rounded","p-button-help","button-custom",2,"background","rgb(24, 15, 67)",3,"click"],["colspan","23"]],template:function(e,i){1&e&&(t.j41(0,"p-panel"),t.DNE(1,Z,2,0,"ng-template",0),t.DNE(2,rt,10,5,"ng-template",1),t.k0s())},dependencies:[h.bT,f._f,U.Ei,p.XI,C.S,d.Z,x.m],styles:['@charset "UTF-8";.button-custom[_ngcontent-%COMP%]{width:1rem;height:3rem;background-color:#f0f8ff;background:#2c5f8b;color:#faebd7;border:none;border-radius:inherit;display:flex;justify-content:center;align-items:center;text-align:center}.button-group[_ngcontent-%COMP%]{display:flex;gap:10px}.custom-swal-popup[_ngcontent-%COMP%], .swal2-popup[_ngcontent-%COMP%]{z-index:2147483647!important}body.swal2-shown[_ngcontent-%COMP%]:not(.swal2-no-backdrop):not(.swal2-toast-shown){z-index:2147483647!important}']})}return s})(),ct=(()=>{class s{static#t=this.\u0275fac=function(e){return new(e||s)};static#o=this.\u0275mod=t.$C({type:s});static#e=this.\u0275inj=t.G2t({imports:[u.iI.forChild([{path:"",component:at}]),u.iI]})}return s})();var lt=n(6554);let pt=(()=>{class s{static#t=this.\u0275fac=function(e){return new(e||s)};static#o=this.\u0275mod=t.$C({type:s});static#e=this.\u0275inj=t.G2t({imports:[h.MD,ct,_.YN,y.rO,p.bG,R.wZ,f.tm,B.SW,C.u,G.f,E.d0,T.Z,k.iV,D.kr,d.b,I.d,b.MB,F.H,v.e,x.S,b.MB,d.b,p.bG,F.H,V.F,v.e,$.sv,N.P,j.k_,S.h,_.X1,lt.PO]})}return s})()}}]);