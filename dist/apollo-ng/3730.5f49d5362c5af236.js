"use strict";(self.webpackChunkapollo_ng=self.webpackChunkapollo_ng||[]).push([[3730],{3730:(ct,b,e)=>{e.r(b),e.d(b,{ProyectosModule:()=>st});var G=e(177),p=e(9417),S=e(612),u=e(9280),D=e(4714),g=e(1141),X=e(9266),h=e(5473),d=e(2242),I=e(1305),V=e(3973),$=e(563),C=e(6296),P=e(8150),k=e(1579),j=e(9998),E=e(7835),F=e(320),A=e(8542),U=e(4799),O=e(1142),L=e(6781),m=e(2100),T=e(9664),J=e(7852),c=e(8763),W=e(5558),f=e(9437),y=e(7673),Y=e(8032),v=e.n(Y),R=e(8141),Z=e(3718),z=e.n(Z),t=e(7019),x=e(5779),M=e(3088);const H=["ckeditor"];function Q(r,a){1&r&&(t.j41(0,"span",2),t.EFF(1,"Registrar Proyecto"),t.k0s())}const K=function(){return["PENDIENTE","EN PROCESO","OBSERVADO","REVISI\xd3N","RETRASADO","APROBADO"]};function w(r,a){if(1&r){const o=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-dropdown",6),t.bIt("ngModelChange",function(i){t.eBV(o);const s=t.XpG();return t.Njj(s.estado=i)}),t.k0s(),t.j41(4,"small",7),t.EFF(5,"Campo obligatorio *"),t.k0s()(),t.j41(6,"div",5)(7,"span",8),t.nrm(8,"i",9),t.j41(9,"input",10),t.bIt("ngModelChange",function(i){t.eBV(o);const s=t.XpG();return t.Njj(s.nombre=i)}),t.k0s(),t.j41(10,"label",11),t.EFF(11,"Nombre Principal"),t.k0s()(),t.j41(12,"small",7),t.EFF(13,"Campo obligatorio *"),t.k0s()()()(),t.j41(14,"div",12)(15,"button",13),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.Guardaruser())}),t.k0s(),t.j41(16,"button",14),t.bIt("click",function(){t.eBV(o);const i=t.XpG();return t.Njj(i.closeModal())}),t.k0s()()}if(2&r){const o=t.XpG();t.R7$(3),t.Y8G("options",t.lJ4(3,K))("ngModel",o.estado),t.R7$(6),t.Y8G("ngModel",o.nombre)}}let B=(()=>{class r{constructor(o,n,i,s,l,at){this.router=o,this.primengConfig=n,this.translate=i,this.ref=s,this.proyectoService=l,this.config=at,this.visible=!1,this.id=0,this.estado="",this.nombre="",this.Editor=z(),this.config.data?(this.id=this.config.data.id,this.estado=this.config.data.estado,this.nombre=this.config.data.nombre):(this.id=0,this.estado="",this.nombre="")}Guardaruser(){const o={id:this.id,estado:this.estado,nombre:this.nombre};this.id>0?this.proyectoService.actualizarProyecto(o,this.id).pipe((0,R.M)(n=>{this.closeModal(),v().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})}),(0,f.W)(n=>(console.error("Error al guardar proyecto",n),(0,y.of)(n)))).subscribe():(this.proyectoService.guardarProyecto(o).pipe((0,R.M)(n=>{this.closeModal(),v().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})}),(0,f.W)(n=>(console.error("Error al guardar proyecto",n),(0,y.of)(n)))).subscribe(),v().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{}))}closeDialog(){this.visible=!1}closeModal(){this.ref.close({register:!1})}static#t=this.\u0275fac=function(n){return new(n||r)(t.rXU(c.Ix),t.rXU(x.r1),t.rXU(T.c$),t.rXU(m.Pw),t.rXU(M.O),t.rXU(m.sb))};static#o=this.\u0275cmp=t.VBU({type:r,selectors:[["app-registrar-proyecto"]],viewQuery:function(n,i){if(1&n&&t.GBs(H,5),2&n){let s;t.mGM(s=t.lsd())&&(i.ckeditor=s.first)}},decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row"],[1,"grid","p-fluid"],[1,"field","md:col-6"],["placeholder","Seleccione un Estado",3,"options","ngModel","ngModelChange"],[2,"color","brown"],[1,"p-float-label","p-input-icon-left"],[1,"pi","pi-user-edit"],["type","text","id","nombre","pInputText","",3,"ngModel","ngModelChange"],["for","nombre"],[1,"row","mb-5","text-right"],["pButton","","label","Guardar","icon","pi pi-plus","id","btnGuardar",1,"p-button-success","mr-2",3,"click"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"]],template:function(n,i){1&n&&(t.j41(0,"p-panel"),t.DNE(1,Q,2,0,"ng-template",0),t.DNE(2,w,17,4,"ng-template",1),t.k0s())},dependencies:[h.Z,x.Ei,p.me,p.BC,p.vS,g._f,d.S,P.ms]})}return r})();function _(r,a){1&r&&(t.j41(0,"span",2),t.EFF(1,"Proyectos"),t.k0s())}function q(r,a){if(1&r){const o=t.RV6();t.j41(0,"div",9)(1,"div",10)(2,"span",11),t.nrm(3,"input",12),t.k0s()(),t.j41(4,"div",13)(5,"button",14),t.bIt("click",function(){t.eBV(o);const i=t.XpG(2);return t.Njj(i.navigateToNuevo(0))}),t.k0s()()()}}function tt(r,a){1&r&&(t.j41(0,"tr")(1,"th",15),t.EFF(2,"Acciones"),t.k0s(),t.j41(3,"th",15),t.EFF(4,"ID"),t.k0s(),t.j41(5,"th",15),t.EFF(6,"Nombre Principal"),t.k0s(),t.j41(7,"th",15),t.EFF(8,"Estado"),t.k0s(),t.j41(9,"th",15),t.EFF(10,"Modulos"),t.k0s()())}const N=function(){return{color:"var(--primary-color)","font-size":"1.5rem"}},ot=function(r){return[r]};function et(r,a){if(1&r){const o=t.RV6();t.j41(0,"tr")(1,"td",16)(2,"button",17),t.bIt("click",function(){const s=t.eBV(o).$implicit,l=t.XpG(2);return t.Njj(l.navigateToNuevo(s.id))}),t.nrm(3,"i",18),t.k0s(),t.j41(4,"button",19),t.bIt("click",function(){const s=t.eBV(o).$implicit,l=t.XpG(2);return t.Njj(l.eliminar(s.id))}),t.EFF(5,"X "),t.k0s()(),t.j41(6,"td"),t.EFF(7),t.k0s(),t.j41(8,"td"),t.EFF(9),t.k0s(),t.j41(10,"td")(11,"a",20),t.EFF(12),t.k0s()(),t.j41(13,"td")(14,"button",21),t.nrm(15,"i",22),t.k0s()()()}if(2&r){const o=a.$implicit;t.R7$(3),t.Aen(t.lJ4(8,N)),t.R7$(4),t.JRh(o.id),t.R7$(2),t.JRh(o.nombre),t.R7$(3),t.JRh(o.estado),t.R7$(2),t.Y8G("routerLink",t.eq3(9,ot,o.id+"/modulos")),t.R7$(1),t.Aen(t.lJ4(11,N))}}function nt(r,a){if(1&r&&(t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6),t.DNE(4,q,6,0,"ng-template",7),t.DNE(5,tt,11,0,"ng-template",0),t.DNE(6,et,16,12,"ng-template",8),t.k0s()()()()),2&r){const o=t.XpG();t.R7$(3),t.Y8G("value",o.proyectos)}}let rt=(()=>{class r{constructor(o,n,i){this.router=o,this.dialogService=n,this.proyectosService=i,this.proyectos=[],this.proyecto={},this.getProyectos()}getProyectos(){this.proyectosService.getProyectos().subscribe(o=>{console.log("Lista de ofertas laborales: ",o),this.proyectos=o.data})}navigateToNuevo(o){o>0?this.proyectosService.getProyecto(o).subscribe(n=>{this.proyecto=n.data,this.ref=this.dialogService.open(B,{width:"60%",styleClass:"custom-dialog-header",data:this.proyecto}),this.ref.onClose.subscribe(i=>{this.getProyectos()})}):(this.ref=this.dialogService.open(B,{width:"60%",styleClass:"custom-dialog-header",data:this.proyecto}),this.ref.onClose.subscribe(n=>{this.getProyectos()}))}verTareas(o){}eliminar(o){this.proyectosService.eliminarProyecto(o).pipe((0,W.n)(()=>(console.log("Proyecto eliminado"),this.proyectosService.getProyectos())),(0,f.W)(n=>(console.error("Error eliminando proyecto:",n),(0,y.of)({data:[]})))).subscribe(n=>{console.log("Lista de proyectos",n),this.proyectos=n.data})}static#t=this.\u0275fac=function(n){return new(n||r)(t.rXU(c.Ix),t.rXU(m.o3),t.rXU(M.O))};static#o=this.\u0275cmp=t.VBU({type:r,selectors:[["app-proyectos"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row"],[1,"grid","p-fluid"],[1,"field","md:col-12"],[1,"w-full","custom-search-input",3,"value"],["pTemplate","caption"],["pTemplate","body"],[1,"flex","justify-content-between","flex-wrap","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar Proyecto",1,"w-full"],[1,"mb-2"],["pButton","","label","Nuevo","icon","pi pi-user-plus",1,"p-button-primary","mr-2",2,"border-radius","30px",3,"click"],[2,"min-width","10rem"],[1,"text-center","flex","gap-2"],["pButton","","title","Editar rol",1,"p-button-rounded","p-button-text","custom-edit-button",2,"width","fit-content",3,"click"],["aria-hidden","true",1,"pi","pi-user-edit"],["pButton","","title","Eliminar rol",1,"p-button-rounded","p-button-text","custom-edit-button",2,"width","fit-content",3,"click"],["href",""],["pButton","","title","Ver Modulos",1,"p-button-rounded","p-button-text","custom-edit-button",2,"width","fit-content",3,"routerLink"],["aria-hidden","true",1,"pi","pi-eye"]],template:function(n,i){1&n&&(t.j41(0,"p-panel"),t.DNE(1,_,2,0,"ng-template",0),t.DNE(2,nt,7,1,"ng-template",1),t.k0s())},dependencies:[h.Z,x.Ei,g._f,u.XI,d.S,c.Wk]})}return r})(),it=(()=>{class r{static#t=this.\u0275fac=function(n){return new(n||r)};static#o=this.\u0275mod=t.$C({type:r});static#e=this.\u0275inj=t.G2t({imports:[c.iI.forChild([{path:"",component:rt},{path:":proyecto_id/modulos",loadChildren:()=>e.e(6269).then(e.bind(e,6269)).then(o=>o.ModulosModule)}]),c.iI]})}return r})(),st=(()=>{class r{static#t=this.\u0275fac=function(n){return new(n||r)};static#o=this.\u0275mod=t.$C({type:r});static#e=this.\u0275inj=t.G2t({imports:[G.MD,h.b,p.YN,S.rO,u.bG,D.wZ,g.tm,X.SW,d.u,I.f,V.d0,$.Z,C.iV,P.kr,k.d,j.MB,E.H,F.e,A.S,j.MB,u.bG,E.H,U.F,F.e,O.sv,L.P,m.k_,T.h,d.u,C.iV,it,J.w]})}return r})()}}]);