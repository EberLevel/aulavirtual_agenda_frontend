"use strict";(self.webpackChunkapollo_ng=self.webpackChunkapollo_ng||[]).push([[9664],{9664:(X,U,l)=>{l.d(U,{Wr:()=>p,h:()=>_,c$:()=>S});var o=l(7019),f=l(7673),c=l(4402),I=l(7468),V=l(8793),E=l(9030),L=l(6697),H=l(1413),B=l(6129);class q extends H.B{constructor(i=1/0,e=1/0,t=B.U){super(),this._bufferSize=i,this._windowTime=e,this._timestampProvider=t,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,e)}next(i){const{isStopped:e,_buffer:t,_infiniteTimeWindow:s,_timestampProvider:a,_windowTime:r}=this;e||(t.push(i),!s&&t.push(a.now()+r)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(i),{_infiniteTimeWindow:t,_buffer:s}=this,a=s.slice();for(let r=0;r<a.length&&!i.closed;r+=t?1:2)i.next(a[r]);return this._checkFinalizedStatuses(i),e}_trimBuffer(){const{_bufferSize:i,_timestampProvider:e,_buffer:t,_infiniteTimeWindow:s}=this,a=(s?1:2)*i;if(i<1/0&&a<t.length&&t.splice(0,t.length-a),!s){const r=e.now();let h=0;for(let u=1;u<t.length&&t[u]<=r;u+=2)h=u;h&&t.splice(0,h+1)}}}var G=l(7647);function A(n,i,e){let t,s=!1;return n&&"object"==typeof n?({bufferSize:t=1/0,windowTime:i=1/0,refCount:s=!1,scheduler:e}=n):t=n??1/0,(0,G.u)({connector:()=>new q(t,i,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}var j=l(6354),W=l(274),K=l(5558);class p{}let x=(()=>{class n extends p{getTranslation(e){return(0,f.of)({})}static \u0275fac=function(){let e;return function(s){return(e||(e=o.xGo(n)))(s||n)}}();static \u0275prov=o.jDH({token:n,factory:n.\u0275fac})}return n})();class m{}let O=(()=>{class n{handle(e){return e.key}static \u0275fac=function(t){return new(t||n)};static \u0275prov=o.jDH({token:n,factory:n.\u0275fac})}return n})();function g(n){return typeof n<"u"&&null!==n}function b(n){return n&&"object"==typeof n&&!Array.isArray(n)}function R(n,i){let e=Object.assign({},n);return b(n)&&b(i)&&Object.keys(i).forEach(t=>{b(i[t])?t in n?e[t]=R(n[t],i[t]):Object.assign(e,{[t]:i[t]}):Object.assign(e,{[t]:i[t]})}),e}class C{}let k=(()=>{class n extends C{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,t){let s;return s="string"==typeof e?this.interpolateString(e,t):"function"==typeof e?this.interpolateFunction(e,t):e,s}getValue(e,t){let s="string"==typeof t?t.split("."):[t];t="";do{t+=s.shift(),!g(e)||!g(e[t])||"object"!=typeof e[t]&&s.length?s.length?t+=".":e=void 0:(e=e[t],t="")}while(s.length);return e}interpolateFunction(e,t){return e(t)}interpolateString(e,t){return t?e.replace(this.templateMatcher,(s,a)=>{let r=this.getValue(t,a);return g(r)?r:s}):e}static \u0275fac=function(){let e;return function(s){return(e||(e=o.xGo(n)))(s||n)}}();static \u0275prov=o.jDH({token:n,factory:n.\u0275fac})}return n})();class y{}let F=(()=>{class n extends y{compile(e,t){return e}compileTranslations(e,t){return e}static \u0275fac=function(){let e;return function(s){return(e||(e=o.xGo(n)))(s||n)}}();static \u0275prov=o.jDH({token:n,factory:n.\u0275fac})}return n})();class N{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new o.bkB;onLangChange=new o.bkB;onDefaultLangChange=new o.bkB}const T=new o.nKC("USE_STORE"),D=new o.nKC("USE_DEFAULT_LANG"),w=new o.nKC("DEFAULT_LANGUAGE"),P=new o.nKC("USE_EXTEND");let S=(()=>{class n{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new o.bkB;_onLangChange=new o.bkB;_onDefaultLangChange=new o.bkB;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}constructor(e,t,s,a,r,h=!0,u=!1,d=!1,v){this.store=e,this.currentLoader=t,this.compiler=s,this.parser=a,this.missingTranslationHandler=r,this.useDefaultLang=h,this.isolate=u,this.extend=d,v&&this.setDefaultLang(v)}setDefaultLang(e){if(e===this.defaultLang)return;let t=this.retrieveTranslations(e);typeof t<"u"?(null==this.defaultLang&&(this.defaultLang=e),t.pipe((0,L.s)(1)).subscribe(s=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return(0,f.of)(this.translations[e]);let t=this.retrieveTranslations(e);return typeof t<"u"?(this.currentLang||(this.currentLang=e),t.pipe((0,L.s)(1)).subscribe(s=>{this.changeLang(e)}),t):(this.changeLang(e),(0,f.of)(this.translations[e]))}retrieveTranslations(e){let t;return(typeof this.translations[e]>"u"||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),t=this._translationRequests[e]),t}getTranslation(e){this.pending=!0;const t=this.currentLoader.getTranslation(e).pipe(A(1),(0,L.s)(1));return this.loadingTranslations=t.pipe((0,j.T)(s=>this.compiler.compileTranslations(s,e)),A(1),(0,L.s)(1)),this.loadingTranslations.subscribe({next:s=>{this.translations[e]=this.extend&&this.translations[e]?{...s,...this.translations[e]}:s,this.updateLangs(),this.pending=!1},error:s=>{this.pending=!1}}),t}setTranslation(e,t,s=!1){t=this.compiler.compileTranslations(t,e),this.translations[e]=(s||this.extend)&&this.translations[e]?R(this.translations[e],t):t,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(t=>{-1===this.langs.indexOf(t)&&this.langs.push(t)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,t,s){let a;if(t instanceof Array){let r={},h=!1;for(let u of t)r[u]=this.getParsedResult(e,u,s),(0,c.A)(r[u])&&(h=!0);if(h){const u=t.map(d=>(0,c.A)(r[d])?r[d]:(0,f.of)(r[d]));return(0,I.p)(u).pipe((0,j.T)(d=>{let v={};return d.forEach(($,J)=>{v[t[J]]=$}),v}))}return r}if(e&&(a=this.parser.interpolate(this.parser.getValue(e,t),s)),typeof a>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(a=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],t),s)),typeof a>"u"){let r={key:t,translateService:this};typeof s<"u"&&(r.interpolateParams=s),a=this.missingTranslationHandler.handle(r)}return typeof a<"u"?a:t}get(e,t){if(!g(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,W.H)(s=>(s=this.getParsedResult(s,e,t),(0,c.A)(s)?s:(0,f.of)(s))));{let s=this.getParsedResult(this.translations[this.currentLang],e,t);return(0,c.A)(s)?s:(0,f.of)(s)}}getStreamOnTranslationChange(e,t){if(!g(e)||!e.length)throw new Error('Parameter "key" required');return(0,V.x)((0,E.v)(()=>this.get(e,t)),this.onTranslationChange.pipe((0,K.n)(s=>{const a=this.getParsedResult(s.translations,e,t);return"function"==typeof a.subscribe?a:(0,f.of)(a)})))}stream(e,t){if(!g(e)||!e.length)throw new Error('Parameter "key" required');return(0,V.x)((0,E.v)(()=>this.get(e,t)),this.onLangChange.pipe((0,K.n)(s=>{const a=this.getParsedResult(s.translations,e,t);return(0,c.A)(a)?a:(0,f.of)(a)})))}instant(e,t){if(!g(e)||!e.length)throw new Error('Parameter "key" required');let s=this.getParsedResult(this.translations[this.currentLang],e,t);if((0,c.A)(s)){if(e instanceof Array){let a={};return e.forEach((r,h)=>{a[e[h]]=e[h]}),a}return e}return s}set(e,t,s=this.currentLang){this.translations[s][e]=this.compiler.compile(t,s),this.updateLangs(),this.onTranslationChange.emit({lang:s,translations:this.translations[s]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof e>"u"?void 0:(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}static \u0275fac=function(t){return new(t||n)(o.KVO(N),o.KVO(p),o.KVO(y),o.KVO(C),o.KVO(m),o.KVO(D),o.KVO(T),o.KVO(P),o.KVO(w))};static \u0275prov=o.jDH({token:n,factory:n.\u0275fac})}return n})(),_=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:p,useClass:x},e.compiler||{provide:y,useClass:F},e.parser||{provide:C,useClass:k},e.missingTranslationHandler||{provide:m,useClass:O},N,{provide:T,useValue:e.isolate},{provide:D,useValue:e.useDefaultLang},{provide:P,useValue:e.extend},{provide:w,useValue:e.defaultLanguage},S]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:p,useClass:x},e.compiler||{provide:y,useClass:F},e.parser||{provide:C,useClass:k},e.missingTranslationHandler||{provide:m,useClass:O},{provide:T,useValue:e.isolate},{provide:D,useValue:e.useDefaultLang},{provide:P,useValue:e.extend},{provide:w,useValue:e.defaultLanguage},S]}}static \u0275fac=function(t){return new(t||n)};static \u0275mod=o.$C({type:n});static \u0275inj=o.G2t({})}return n})()}}]);