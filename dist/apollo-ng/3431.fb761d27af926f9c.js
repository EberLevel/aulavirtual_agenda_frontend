"use strict";(self.webpackChunkapollo_ng=self.webpackChunkapollo_ng||[]).push([[3431],{3431:(fn,ot,l)=>{l.d(ot,{t:()=>hn});var t=l(7019),rt=l(8032),m=l.n(rt),O=l(3074),R=l(9961),u=l(9417);const it={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function S(n){return(o={})=>{const e=o.width?String(o.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const dt={date:S({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:S({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:S({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},pt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function P(n){return(o,e)=>{let r;if("formatting"===(e?.context?String(e.context):"standalone")&&n.formattingValues){const s=n.defaultFormattingWidth||n.defaultWidth,d=e?.width?String(e.width):s;r=n.formattingValues[d]||n.formattingValues[s]}else{const s=n.defaultWidth,d=e?.width?String(e.width):n.defaultWidth;r=n.values[d]||n.values[s]}return r[n.argumentCallback?n.argumentCallback(o):o]}}function F(n){return(o,e={})=>{const a=e.width,i=o.match(a&&n.matchPatterns[a]||n.matchPatterns[n.defaultMatchWidth]);if(!i)return null;const s=i[0],d=a&&n.parsePatterns[a]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(d)?function yt(n,o){for(let e=0;e<n.length;e++)if(o(n[e]))return e}(d,p=>p.test(s)):function wt(n,o){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&o(n[e]))return e}(d,p=>p.test(s));let _;return _=n.valueCallback?n.valueCallback(f):f,_=e.valueCallback?e.valueCallback(_):_,{value:_,rest:o.slice(s.length)}}}const Mt={code:"en-US",formatDistance:(n,o,e)=>{let a;const r=it[n];return a="string"==typeof r?r:1===o?r.one:r.other.replace("{{count}}",o.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+a:a+" ago":a},formatLong:dt,formatRelative:(n,o,e,a)=>pt[n],localize:{ordinalNumber:(n,o)=>{const e=Number(n),a=e%100;if(a>20||a<10)switch(a%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},era:P({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:P({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:n=>n-1}),month:P({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:P({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:P({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function Ct(n){return(o,e={})=>{const a=o.match(n.matchPattern);if(!a)return null;const r=a[0],i=o.match(n.parsePattern);if(!i)return null;let s=n.valueCallback?n.valueCallback(i[0]):i[0];return s=e.valueCallback?e.valueCallback(s):s,{value:s,rest:o.slice(r.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:n=>parseInt(n,10)}),era:F({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:F({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:n=>n+1}),month:F({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:F({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:F({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let W={};function G(){return W}Math.pow(10,8);const X=6048e5;function v(n){const o=Object.prototype.toString.call(n);return n instanceof Date||"object"==typeof n&&"[object Date]"===o?new n.constructor(+n):"number"==typeof n||"[object Number]"===o||"string"==typeof n||"[object String]"===o?new Date(n):new Date(NaN)}function H(n){const o=v(n);return o.setHours(0,0,0,0),o}function U(n){const o=v(n),e=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()));return e.setUTCFullYear(o.getFullYear()),+n-+e}function E(n,o){return n instanceof Date?new n.constructor(o):new Date(o)}function T(n,o){const e=G(),a=o?.weekStartsOn??o?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,r=v(n),i=r.getDay(),s=(i<a?7:0)+i-a;return r.setDate(r.getDate()-s),r.setHours(0,0,0,0),r}function L(n){return T(n,{weekStartsOn:1})}function z(n){const o=v(n),e=o.getFullYear(),a=E(n,0);a.setFullYear(e+1,0,4),a.setHours(0,0,0,0);const r=L(a),i=E(n,0);i.setFullYear(e,0,4),i.setHours(0,0,0,0);const s=L(i);return o.getTime()>=r.getTime()?e+1:o.getTime()>=s.getTime()?e:e-1}function Q(n,o){const e=v(n),a=e.getFullYear(),r=G(),i=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=E(n,0);s.setFullYear(a+1,0,i),s.setHours(0,0,0,0);const d=T(s,o),f=E(n,0);f.setFullYear(a,0,i),f.setHours(0,0,0,0);const _=T(f,o);return e.getTime()>=d.getTime()?a+1:e.getTime()>=_.getTime()?a:a-1}function c(n,o){return(n<0?"-":"")+Math.abs(n).toString().padStart(o,"0")}const b={y(n,o){const e=n.getFullYear(),a=e>0?e:1-e;return c("yy"===o?a%100:a,o.length)},M(n,o){const e=n.getMonth();return"M"===o?String(e+1):c(e+1,2)},d:(n,o)=>c(n.getDate(),o.length),a(n,o){const e=n.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];default:return"am"===e?"a.m.":"p.m."}},h:(n,o)=>c(n.getHours()%12||12,o.length),H:(n,o)=>c(n.getHours(),o.length),m:(n,o)=>c(n.getMinutes(),o.length),s:(n,o)=>c(n.getSeconds(),o.length),S(n,o){const e=o.length,a=n.getMilliseconds();return c(Math.trunc(a*Math.pow(10,e-3)),o.length)}},q={G:function(n,o,e){const a=n.getFullYear()>0?1:0;switch(o){case"G":case"GG":case"GGG":return e.era(a,{width:"abbreviated"});case"GGGGG":return e.era(a,{width:"narrow"});default:return e.era(a,{width:"wide"})}},y:function(n,o,e){if("yo"===o){const a=n.getFullYear();return e.ordinalNumber(a>0?a:1-a,{unit:"year"})}return b.y(n,o)},Y:function(n,o,e,a){const r=Q(n,a),i=r>0?r:1-r;return"YY"===o?c(i%100,2):"Yo"===o?e.ordinalNumber(i,{unit:"year"}):c(i,o.length)},R:function(n,o){return c(z(n),o.length)},u:function(n,o){return c(n.getFullYear(),o.length)},Q:function(n,o,e){const a=Math.ceil((n.getMonth()+1)/3);switch(o){case"Q":return String(a);case"QQ":return c(a,2);case"Qo":return e.ordinalNumber(a,{unit:"quarter"});case"QQQ":return e.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(a,{width:"narrow",context:"formatting"});default:return e.quarter(a,{width:"wide",context:"formatting"})}},q:function(n,o,e){const a=Math.ceil((n.getMonth()+1)/3);switch(o){case"q":return String(a);case"qq":return c(a,2);case"qo":return e.ordinalNumber(a,{unit:"quarter"});case"qqq":return e.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(a,{width:"narrow",context:"standalone"});default:return e.quarter(a,{width:"wide",context:"standalone"})}},M:function(n,o,e){const a=n.getMonth();switch(o){case"M":case"MM":return b.M(n,o);case"Mo":return e.ordinalNumber(a+1,{unit:"month"});case"MMM":return e.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(a,{width:"narrow",context:"formatting"});default:return e.month(a,{width:"wide",context:"formatting"})}},L:function(n,o,e){const a=n.getMonth();switch(o){case"L":return String(a+1);case"LL":return c(a+1,2);case"Lo":return e.ordinalNumber(a+1,{unit:"month"});case"LLL":return e.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(a,{width:"narrow",context:"standalone"});default:return e.month(a,{width:"wide",context:"standalone"})}},w:function(n,o,e,a){const r=function Ut(n,o){const e=v(n),a=+T(e,o)-+function Ht(n,o){const e=G(),a=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,r=Q(n,o),i=E(n,0);return i.setFullYear(r,0,a),i.setHours(0,0,0,0),T(i,o)}(e,o);return Math.round(a/X)+1}(n,a);return"wo"===o?e.ordinalNumber(r,{unit:"week"}):c(r,o.length)},I:function(n,o,e){const a=function $t(n){const o=v(n),e=+L(o)-+function Xt(n){const o=z(n),e=E(n,0);return e.setFullYear(o,0,4),e.setHours(0,0,0,0),L(e)}(o);return Math.round(e/X)+1}(n);return"Io"===o?e.ordinalNumber(a,{unit:"week"}):c(a,o.length)},d:function(n,o,e){return"do"===o?e.ordinalNumber(n.getDate(),{unit:"date"}):b.d(n,o)},D:function(n,o,e){const a=function Wt(n){const o=v(n);return function At(n,o){const e=H(n),a=H(o),r=+e-U(e),i=+a-U(a);return Math.round((r-i)/864e5)}(o,function Rt(n){const o=v(n),e=E(n,0);return e.setFullYear(o.getFullYear(),0,1),e.setHours(0,0,0,0),e}(o))+1}(n);return"Do"===o?e.ordinalNumber(a,{unit:"dayOfYear"}):c(a,o.length)},E:function(n,o,e){const a=n.getDay();switch(o){case"E":case"EE":case"EEE":return e.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(a,{width:"short",context:"formatting"});default:return e.day(a,{width:"wide",context:"formatting"})}},e:function(n,o,e,a){const r=n.getDay(),i=(r-a.weekStartsOn+8)%7||7;switch(o){case"e":return String(i);case"ee":return c(i,2);case"eo":return e.ordinalNumber(i,{unit:"day"});case"eee":return e.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(r,{width:"short",context:"formatting"});default:return e.day(r,{width:"wide",context:"formatting"})}},c:function(n,o,e,a){const r=n.getDay(),i=(r-a.weekStartsOn+8)%7||7;switch(o){case"c":return String(i);case"cc":return c(i,o.length);case"co":return e.ordinalNumber(i,{unit:"day"});case"ccc":return e.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(r,{width:"narrow",context:"standalone"});case"cccccc":return e.day(r,{width:"short",context:"standalone"});default:return e.day(r,{width:"wide",context:"standalone"})}},i:function(n,o,e){const a=n.getDay(),r=0===a?7:a;switch(o){case"i":return String(r);case"ii":return c(r,o.length);case"io":return e.ordinalNumber(r,{unit:"day"});case"iii":return e.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(a,{width:"short",context:"formatting"});default:return e.day(a,{width:"wide",context:"formatting"})}},a:function(n,o,e){const r=n.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(r,{width:"narrow",context:"formatting"});default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(n,o,e){const a=n.getHours();let r;switch(r=12===a?"noon":0===a?"midnight":a/12>=1?"pm":"am",o){case"b":case"bb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(r,{width:"narrow",context:"formatting"});default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(n,o,e){const a=n.getHours();let r;switch(r=a>=17?"evening":a>=12?"afternoon":a>=4?"morning":"night",o){case"B":case"BB":case"BBB":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(r,{width:"narrow",context:"formatting"});default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(n,o,e){if("ho"===o){let a=n.getHours()%12;return 0===a&&(a=12),e.ordinalNumber(a,{unit:"hour"})}return b.h(n,o)},H:function(n,o,e){return"Ho"===o?e.ordinalNumber(n.getHours(),{unit:"hour"}):b.H(n,o)},K:function(n,o,e){const a=n.getHours()%12;return"Ko"===o?e.ordinalNumber(a,{unit:"hour"}):c(a,o.length)},k:function(n,o,e){let a=n.getHours();return 0===a&&(a=24),"ko"===o?e.ordinalNumber(a,{unit:"hour"}):c(a,o.length)},m:function(n,o,e){return"mo"===o?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):b.m(n,o)},s:function(n,o,e){return"so"===o?e.ordinalNumber(n.getSeconds(),{unit:"second"}):b.s(n,o)},S:function(n,o){return b.S(n,o)},X:function(n,o,e){const a=n.getTimezoneOffset();if(0===a)return"Z";switch(o){case"X":return Z(a);case"XXXX":case"XX":return w(a);default:return w(a,":")}},x:function(n,o,e){const a=n.getTimezoneOffset();switch(o){case"x":return Z(a);case"xxxx":case"xx":return w(a);default:return w(a,":")}},O:function(n,o,e){const a=n.getTimezoneOffset();switch(o){case"O":case"OO":case"OOO":return"GMT"+J(a,":");default:return"GMT"+w(a,":")}},z:function(n,o,e){const a=n.getTimezoneOffset();switch(o){case"z":case"zz":case"zzz":return"GMT"+J(a,":");default:return"GMT"+w(a,":")}},t:function(n,o,e){return c(Math.trunc(n.getTime()/1e3),o.length)},T:function(n,o,e){return c(n.getTime(),o.length)}};function J(n,o=""){const e=n>0?"-":"+",a=Math.abs(n),r=Math.trunc(a/60),i=a%60;return 0===i?e+String(r):e+String(r)+o+c(i,2)}function Z(n,o){return n%60==0?(n>0?"-":"+")+c(Math.abs(n)/60,2):w(n,o)}function w(n,o=""){const e=n>0?"-":"+",a=Math.abs(n);return e+c(Math.trunc(a/60),2)+o+c(a%60,2)}const K=(n,o)=>{switch(n){case"P":return o.date({width:"short"});case"PP":return o.date({width:"medium"});case"PPP":return o.date({width:"long"});default:return o.date({width:"full"})}},tt=(n,o)=>{switch(n){case"p":return o.time({width:"short"});case"pp":return o.time({width:"medium"});case"ppp":return o.time({width:"long"});default:return o.time({width:"full"})}},zt={p:tt,P:(n,o)=>{const e=n.match(/(P+)(p+)?/)||[],a=e[1],r=e[2];if(!r)return K(n,o);let i;switch(a){case"P":i=o.dateTime({width:"short"});break;case"PP":i=o.dateTime({width:"medium"});break;case"PPP":i=o.dateTime({width:"long"});break;default:i=o.dateTime({width:"full"})}return i.replace("{{date}}",K(a,o)).replace("{{time}}",tt(r,o))}},Qt=/^D+$/,qt=/^Y+$/,Jt=["D","DD","YY","YYYY"];const oe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,re=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ie=/^'([^]*?)'?$/,se=/''/g,ce=/[a-zA-Z]/;function ue(n,o,e){const a=G(),r=e?.locale??a.locale??Mt,i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,d=v(n);if(!function ae(n){if(!function ne(n){return n instanceof Date||"object"==typeof n&&"[object Date]"===Object.prototype.toString.call(n)}(n)&&"number"!=typeof n)return!1;const o=v(n);return!isNaN(Number(o))}(d))throw new RangeError("Invalid time value");let f=o.match(re).map(g=>{const p=g[0];return"p"===p||"P"===p?(0,zt[p])(g,r.formatLong):g}).join("").match(oe).map(g=>{if("''"===g)return{isToken:!1,value:"'"};const p=g[0];if("'"===p)return{isToken:!1,value:le(g)};if(q[p])return{isToken:!0,value:g};if(p.match(ce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:g}});r.localize.preprocessor&&(f=r.localize.preprocessor(d,f));const _={firstWeekContainsDate:i,weekStartsOn:s,locale:r};return f.map(g=>{if(!g.isToken)return g.value;const p=g.value;return(!e?.useAdditionalWeekYearTokens&&function Kt(n){return qt.test(n)}(p)||!e?.useAdditionalDayOfYearTokens&&function Zt(n){return Qt.test(n)}(p))&&function te(n,o,e){const a=function ee(n,o,e){const a="Y"===n[0]?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${o}\`) for formatting ${a} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(n,o,e);if(console.warn(a),Jt.includes(n))throw new RangeError(a)}(p,o,String(n)),(0,q[p[0]])(d,p,r.localize,_)}).join("")}function le(n){const o=n.match(ie);return o?o[1].replace(se,"'"):n}var h=l(2100),N=l(3088),et=l(8774),I=l(177),y=l(5779),x=l(1141),D=l(2242),de=l(8150),k=l(5473),pe=l(1142);function me(n,o){if(1&n&&(t.j41(0,"span",2),t.EFF(1),t.k0s()),2&n){const e=t.XpG();t.R7$(1),t.SpI(" ","ver"===e.acciones?"Ver Pregunta":"actualizar"===e.acciones?"Actualizar Pregunta":"A\xf1adir Pregunta"," ")}}function ge(n,o){if(1&n&&(t.j41(0,"div",18)(1,"span",7),t.nrm(2,"input",19),t.j41(3,"label",20),t.EFF(4,"Formulaci\xf3n de Pregunta por Docente"),t.k0s()()()),2&n){const e=t.XpG(2);t.R7$(2),t.Y8G("readonly","ver"===e.acciones)}}function he(n,o){if(1&n){const e=t.RV6();t.j41(0,"div",24)(1,"div",25)(2,"input",26),t.bIt("change",function(){const i=t.eBV(e).index,s=t.XpG(3);return t.Njj(s.onRadioChange(i))}),t.k0s(),t.j41(3,"div",27),t.nrm(4,"input",28),t.k0s()()()}if(2&n){const e=o.index,a=t.XpG(3);t.Y8G("formGroupName",e),t.R7$(2),t.Y8G("value",!0),t.R7$(2),t.Y8G("id","alternativa-"+e)("readonly","ver"===a.acciones)}}function fe(n,o){if(1&n){const e=t.RV6();t.j41(0,"div",18)(1,"div",21),t.DNE(2,he,5,4,"div",22),t.k0s(),t.j41(3,"button",23),t.bIt("click",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.agregarAlternativa())}),t.k0s()()}if(2&n){const e=t.XpG(2);t.R7$(2),t.Y8G("ngForOf",e.getAlternativasControls())}}const _e=function(){return{height:"90px"}};function ve(n,o){if(1&n&&(t.j41(0,"div",18)(1,"span",7)(2,"div",5)(3,"div",29)(4,"label",30),t.EFF(5,"Ingrese la pregunta"),t.k0s(),t.nrm(6,"p-editor",31),t.k0s()()()()),2&n){const e=t.XpG(2);t.R7$(6),t.Aen(t.lJ4(3,_e)),t.Y8G("disabled","ver"===e.acciones)}}function be(n,o){1&n&&t.nrm(0,"button",32)}function Ee(n,o){1&n&&t.nrm(0,"button",33)}function we(n,o){if(1&n){const e=t.RV6();t.j41(0,"form",3),t.bIt("ngSubmit",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.guardarPregunta())}),t.j41(1,"div",4)(2,"div",5)(3,"div",6)(4,"label"),t.EFF(5,"Tipo de Pregunta"),t.k0s(),t.j41(6,"div",7)(7,"label",8),t.EFF(8,"Tipo de Pregunta"),t.k0s(),t.j41(9,"p-dropdown",9),t.bIt("onChange",function(r){t.eBV(e);const i=t.XpG();return t.Njj(i.onTipoPreguntaChange(r.value))}),t.k0s()()(),t.j41(10,"div",6)(11,"label",10),t.EFF(12,"Valor de la Pregunta"),t.k0s(),t.nrm(13,"input",11),t.k0s(),t.DNE(14,ge,5,1,"div",12),t.DNE(15,fe,4,1,"div",12),t.DNE(16,ve,7,4,"div",12),t.k0s()(),t.j41(17,"div",4)(18,"div",13)(19,"div",14),t.DNE(20,be,1,0,"button",15),t.DNE(21,Ee,1,0,"button",16),t.j41(22,"button",17),t.bIt("click",function(r){t.eBV(e);const i=t.XpG();return t.Njj(i.closeModal(r))}),t.k0s()()()()()}if(2&n){const e=t.XpG();let a,r,i;t.Y8G("formGroup",e.preguntaForm),t.R7$(9),t.Y8G("options",e.tiposPregunta)("disabled","ver"===e.acciones),t.R7$(4),t.Y8G("readonly","ver"===e.acciones),t.R7$(1),t.Y8G("ngIf",66===(null==e.preguntaForm||null==(a=e.preguntaForm.get("tipoPregunta"))?null:a.value)),t.R7$(1),t.Y8G("ngIf",66===(null==e.preguntaForm||null==(r=e.preguntaForm.get("tipoPregunta"))?null:r.value)),t.R7$(1),t.Y8G("ngIf",67===(null==e.preguntaForm||null==(i=e.preguntaForm.get("tipoPregunta"))?null:i.value)),t.R7$(4),t.Y8G("ngIf","add"===e.acciones),t.R7$(1),t.Y8G("ngIf","actualizar"===e.acciones)}}let M=(()=>{class n{constructor(e,a,r,i,s){this.fb=e,this.ref=a,this.config=r,this.parametroService=i,this.helpersService=s,this.loading=!1,this.parametroDatos=new R.A7,this.parametro=new R.A7,this.mostrarCursos=!1,this.tiposPregunta=[],this.preguntaForm=this.fb.group({tipoPregunta:["",u.k0.required],valor_pregunta:["",u.k0.required],pregunta_docente:["",u.k0.required],alternativas:this.fb.array([])})}ngOnInit(){this.idEvaluacion=this.config.data.idEvaluacion,this.acciones=this.config.data.acciones,Promise.all([this.listarDePregunta()]).then(()=>{if("ver"===this.acciones||"actualizar"===this.acciones){const e=ue(new Date(this.config.data.data.fecha_y_hora_programo),"yyyy-MM-dd'T'HH:mm:ss");this.preguntaForm.patchValue({nombreEvaluacion:this.config.data.data.nombre,tipoEvaluacion:this.config.data.data.tipo_evaluacion_id,porcentajeEvaluacion:this.config.data.data.porcentaje_evaluacion,fechaHoraEvaluacion:e,estado:this.config.data.data.estado_id,observaciones:this.config.data.data.observaciones,preguntaMagica:this.config.data.data.pregunta_magica})}})}onRadioChange(e){this.preguntaForm.get("alternativas").controls.forEach((r,i)=>{const s=r.get("respuesta_correcta");s&&s.setValue(i===e)})}listarDePregunta(){return new Promise((e,a)=>{this.parametroService.getTipoDePregunta().subscribe(r=>{console.log("Lista de getTipoDePregunta",r),this.tiposPregunta=r,e()},r=>a(r))})}setAlternativas(e){const a=e.map(i=>this.fb.group(i)),r=this.fb.array(a);this.preguntaForm.setControl("alternativas",r)}guardarRespuestaCorrecta(){this.preguntaForm.value.alternativas.findIndex(r=>!0===r.respuesta_correcta)}guardarPregunta(){if(console.log(this.preguntaForm),this.preguntaForm.valid){const e={evaluacion_id:this.idEvaluacion,tipo_de_evaluacion_id:this.preguntaForm.value.tipoPregunta,pregunta_docente:this.preguntaForm.value.pregunta_docente,descripcion:this.preguntaForm.value.descripcion,respuesta_correcta:this.preguntaForm.value.alternativas.findIndex(a=>!0===a.respuesta_correcta)+1,domain_id:this.helpersService.getDominioId(),valor_pregunta:this.preguntaForm.value.valor_pregunta,alternativas:this.preguntaForm.value.alternativas};console.log(e),"add"===this.acciones?this.parametroService.guardarPreguntas(e).subscribe(a=>{this.ref?.close(),m().fire({title:"\xa1\xc9xito!",text:"Los Datos se registraron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},a=>{console.error("Error al guardar el parametro",a)}):"actualizar"===this.acciones&&this.parametroService.actualizarListadoDeEvaluacionesPorGrupo({observaciones:this.preguntaForm.value.observaciones,nombre:this.preguntaForm.value.nombreEvaluacion,tipo_evaluacion_id:this.preguntaForm.value.tipoEvaluacion,porcentaje_evaluacion:this.preguntaForm.value.porcentajeEvaluacion,fecha_y_hora_programo:this.preguntaForm.value.fechaHoraEvaluacion,estado_id:this.preguntaForm.value.estado,id:this.config.data.data.id}).subscribe(r=>{this.ref?.close(),m().fire({title:"\xa1\xc9xito!",text:"Los Datos se actualizaron correctamente",icon:"success",confirmButtonText:"Aceptar"}).then(()=>{})},r=>{console.error("Error al actualizar el parametro",r)})}else console.error("Formulario inv\xe1lido")}agregarAlternativa(){const e=this.preguntaForm.get("alternativas");e.push(this.fb.group({id:[e.length+1],texto:["",u.k0.required],respuesta_correcta:[!1]}))}closeModal(e){e.preventDefault(),this.ref?.close()}getAlternativasControls(){return this.preguntaForm.get("alternativas").controls}onTipoPreguntaChange(e){console.log("Tipo de Pregunta changed to:",e)}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(u.ok),t.rXU(h.Pw),t.rXU(h.sb),t.rXU(N.O),t.rXU(et.V))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-agregar-editar-listado-de-preguntas"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"grid","p-fluid"],[1,"field","col-6"],[1,"p-float-label"],["for","dropdownTipoPregunta",1,"required"],["inputId","dropdownTipoPregunta","optionLabel","tx_item_description","formControlName","tipoPregunta","optionValue","nu_id_parametro",3,"options","disabled","onChange"],["for","dropdownValorPregunta"],["type","number","inputId","dropdownValorPregunta","pInputText","","formControlName","valor_pregunta",3,"readonly"],["class","col-12",4,"ngIf"],[1,"flex","justify-content-end","flex-column","sm:flex-row"],[1,"flex","flex-wrap","gap-2"],["pButton","","icon","pi pi-plus","label","A\xf1adir","iconPos","right","class","p-button-success p-button-sm","type","submit",4,"ngIf"],["pButton","","icon","pi pi-refresh","label","Actualizar","iconPos","right","class","p-button-warning p-button-sm","type","submit",4,"ngIf"],["pButton","","label","Cerrar","icon","pi pi-times","iconPos","right",1,"p-button-close-clean",3,"click"],[1,"col-12"],["type","text","pInputText","","formControlName","pregunta_docente",3,"readonly"],[1,"required"],["formArrayName","alternativas"],["class","col-12",3,"formGroupName",4,"ngFor","ngForOf"],["type","button","pButton","","icon","pi pi-plus","label","A\xf1adir Alternativa",3,"click"],[1,"col-12",3,"formGroupName"],[1,"alternativa-container"],["type","radio","name","respuesta_correcta","formControlName","respuesta_correcta",3,"value","change"],[1,"field","col-12"],["type","text","pInputText","","formControlName","texto",3,"id","readonly"],[1,"field","col-12","md:col-12"],["for",""],["formControlName","pregunta_docente",3,"disabled"],["pButton","","icon","pi pi-plus","label","A\xf1adir","iconPos","right","type","submit",1,"p-button-success","p-button-sm"],["pButton","","icon","pi pi-refresh","label","Actualizar","iconPos","right","type","submit",1,"p-button-warning","p-button-sm"]],template:function(a,r){1&a&&(t.j41(0,"p-panel"),t.DNE(1,me,2,1,"ng-template",0),t.DNE(2,we,23,9,"ng-template",1),t.k0s())},dependencies:[I.Sq,I.bT,y.Ei,u.qT,u.me,u.Q0,u.Fm,u.BC,u.cb,x._f,D.S,de.ms,k.Z,pe.KE,u.j4,u.JD,u.$R,u.v8],styles:[".alternativa-container[_ngcontent-%COMP%]{display:flex;align-items:center;height:3em}.alternativa-container[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{margin-left:10px}"]})}return n})();var V=l(3587),B=l(1626);let ye=(()=>{class n{constructor(e){this.http=e,this.baseUrl=`${V.c.API_BASE}`,this.urlparametro=`${V.c.API_BASE}`}getListadoDePreguntasPorCorregir(e){return this.http.get(`${this.baseUrl}preguntasByAlumno/${e}`)}actualizarEstadoPregunta(e){return this.http.put(`${this.baseUrl}pregunta-alumno`,e)}static#t=this.\u0275fac=function(a){return new(a||n)(t.KVO(B.Qq))};static#e=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var j=l(9280);function Ce(n,o){1&n&&(t.j41(0,"span",2),t.EFF(1,"Lista de preguntas por corregir"),t.k0s())}function xe(n,o){1&n&&(t.j41(0,"tr")(1,"th",12),t.EFF(2,"Alumno"),t.k0s(),t.j41(3,"th",12),t.EFF(4,"Pregunta"),t.k0s(),t.j41(5,"th",12),t.EFF(6,"Respuesta"),t.k0s(),t.j41(7,"th",12),t.EFF(8,"Corregir"),t.k0s(),t.j41(9,"th",12),t.EFF(10,"Confirmar"),t.k0s()())}function ke(n,o){if(1&n){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.nrm(3,"td",13)(4,"td",13),t.j41(5,"td")(6,"div",14),t.nrm(7,"input",15),t.j41(8,"label",16),t.EFF(9,"Correcto"),t.k0s()(),t.j41(10,"div",14),t.nrm(11,"input",15),t.j41(12,"label",16),t.EFF(13,"Incorrecto"),t.k0s()()(),t.j41(14,"td")(15,"button",17),t.bIt("click",function(){const r=t.eBV(e),i=r.$implicit,s=r.rowIndex,d=t.XpG(2);return t.Njj(d.guardarCorreccion(i,s))}),t.k0s()()()}if(2&n){const e=o.$implicit,a=o.rowIndex;t.R7$(2),t.Lme("",e.nombre_alumno," ",e.apellido_alumno,""),t.R7$(1),t.Y8G("innerHTML",e.pregunta,t.npT),t.R7$(1),t.Y8G("innerHTML",e.respuesta_alumno,t.npT),t.R7$(3),t.Y8G("formControlName","correccion_"+a)("value","correcto"),t.R7$(4),t.Y8G("formControlName","correccion_"+a)("value","incorrecto")}}function Pe(n,o){1&n&&(t.j41(0,"tr")(1,"td",18),t.EFF(2,"No se encontraron registros"),t.k0s()())}function Fe(n,o){1&n&&(t.j41(0,"tr")(1,"td",18),t.EFF(2,"Cargando registros. Por favor espere."),t.k0s()())}function Te(n,o){if(1&n&&(t.j41(0,"form",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"p-table",7,8),t.DNE(6,xe,11,0,"ng-template",0),t.DNE(7,ke,16,8,"ng-template",9),t.DNE(8,Pe,3,0,"ng-template",10),t.DNE(9,Fe,3,0,"ng-template",11),t.k0s()()()()()),2&n){const e=t.XpG();t.Y8G("formGroup",e.correccionForm),t.R7$(4),t.Y8G("value",e.preguntasPorCorregirList)("rows",10)("loading",e.loading)("rowHover",!0)("paginator",!0)}}let De=(()=>{class n{constructor(e,a,r,i){this.dialogService=e,this.preguntaAlumnoService=a,this.fb=r,this.config=i,this.loading=!1,this.preguntasPorCorregirList=[],this.correccionForm=this.fb.group({})}ngOnInit(){const e=this.config.data.data.id;console.log("evaluacionId",e),this.listarPreguntasParaCorregir(e)}listarPreguntasParaCorregir(e){this.loading=!0,this.preguntaAlumnoService.getListadoDePreguntasPorCorregir(e).subscribe(a=>{console.log("Respuesta de la API:",a),this.preguntasPorCorregirList=a,this.preguntasPorCorregirList.forEach((r,i)=>{console.log("Pregunta recibida:",r),this.correccionForm.addControl("correccion_"+i,new u.MJ(""))}),this.loading=!1},a=>{this.loading=!1,console.error("Error al cargar las preguntas por corregir:",a)})}guardarCorreccion(e,a){const r="correccion_"+a,i=this.correccionForm.get(r)?.value;if(!i)return void m().fire("Error","Debes seleccionar una opci\xf3n antes de guardar.","error");console.log("Pregunta:",e);const s=this.config.data.data.id,d=e.alumno_id;s&&d?this.preguntaAlumnoService.actualizarEstadoPregunta({pregunta_id:s,alumno_id:d,estado_id:"correcto"===i?1:0}).subscribe(_=>{m().fire("\xc9xito","La correcci\xf3n ha sido guardada correctamente.","success")},_=>{console.error("Error al guardar la correcci\xf3n:",_),m().fire("Error","Ocurri\xf3 un error al guardar la correcci\xf3n.","error")}):console.error("Faltan los IDs de la pregunta o el alumno")}guardarTodasLasCorrecciones(){this.preguntasPorCorregirList.forEach((e,a)=>{this.guardarCorreccion(e,a)})}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(h.o3),t.rXU(ye),t.rXU(u.ok),t.rXU(h.sb))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-corregir-preguntas"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover","paginator"],["dt1",""],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],["scope","col",2,"min-width","10rem"],[3,"innerHTML"],[1,"form-check"],["type","radio",1,"form-check-input",3,"formControlName","value"],[1,"form-check-label"],["pButton","","label","Guardar",1,"p-button-success","p-button-sm",3,"click"],["colspan","4"]],template:function(a,r){1&a&&(t.j41(0,"p-panel"),t.DNE(1,Ce,2,0,"ng-template",0),t.DNE(2,Te,10,6,"ng-template",1),t.k0s())},dependencies:[u.qT,u.me,u.Fm,u.BC,u.cb,x._f,y.Ei,j.XI,k.Z,u.j4,u.JD]})}return n})();var je=l(345),Y=l(8542);const Ge=["filter"],Le=["dt1"];function Ne(n,o){1&n&&(t.j41(0,"span",2),t.EFF(1,"Listado de pregunta"),t.k0s())}function Oe(n,o){if(1&n){const e=t.RV6();t.j41(0,"div",12)(1,"div",13)(2,"span",14)(3,"input",15,16),t.bIt("input",function(r){t.eBV(e);const i=t.XpG(2);return t.Njj(i.onGlobalFilter(r))}),t.k0s()()(),t.j41(5,"div",17)(6,"button",18),t.bIt("click",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.navigateAddCurso())}),t.k0s()()()}}function Se(n,o){1&n&&(t.j41(0,"tr")(1,"th",19),t.EFF(2," Acciones "),t.k0s(),t.j41(3,"th",19),t.EFF(4," Pregunta "),t.k0s(),t.j41(5,"th",19),t.EFF(6," Valor de la pregunta "),t.k0s(),t.j41(7,"th",19),t.EFF(8," Corregir Preguntas por alumnos "),t.k0s()())}function Ie(n,o){if(1&n){const e=t.RV6();t.j41(0,"tr")(1,"td")(2,"button",20),t.bIt("click",function(){const i=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.navigateToDetalle(i))}),t.k0s(),t.j41(3,"button",21),t.bIt("click",function(){const i=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.navigateToEdit(i))}),t.k0s(),t.j41(4,"button",22),t.bIt("click",function(){const i=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.navigateToDelete(i.id))}),t.k0s()(),t.j41(5,"td"),t.nrm(6,"span",23),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td")(10,"button",24),t.bIt("click",function(){const i=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.corregirPregunta(i))}),t.k0s()()()}if(2&n){const e=o.$implicit;t.R7$(6),t.Y8G("innerHTML",e.pregunta_docente,t.npT),t.R7$(2),t.JRh(e.valor_pregunta)}}function Me(n,o){1&n&&(t.j41(0,"tr")(1,"td",25),t.EFF(2,"No se encontraron registros"),t.k0s()())}function Ve(n,o){1&n&&(t.j41(0,"tr")(1,"td",25),t.EFF(2," Cargando registros. Por favor espere. "),t.k0s()())}function Be(n,o){if(1&n&&(t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.DNE(5,Oe,7,0,"ng-template",8),t.DNE(6,Se,9,0,"ng-template",0),t.DNE(7,Ie,11,2,"ng-template",9),t.DNE(8,Me,3,0,"ng-template",10),t.DNE(9,Ve,3,0,"ng-template",11),t.k0s()()()()),2&n){const e=t.XpG();t.R7$(3),t.Y8G("value",e.grupoEvaluacionesList)("rows",10)("loading",e.loading)("rowHover",!0)("paginator",!0)}}let Ye=(()=>{class n{constructor(e,a,r,i){this.dialogService=e,this.grupoEvaluacionesService=a,this.config=r,this.sanitizer=i,this.loading=!1,this.miembro=[],this.miembrosActualizados=new t.bkB,this.grupoEvaluacionesList=[],this.originalgrupoEvaluacionesList=[],this.promedioTotal=0,this.porcentajeTotal=0}ngOnInit(){this.evaluaciones=this.config.data.data,console.log(this.evaluaciones,"car"),this.listarPreguntas()}listarPreguntas(){this.grupoEvaluacionesService.getPreguntas({id:this.evaluaciones.id}).subscribe(e=>{e.forEach(a=>{a.puntos=Math.floor(20*Math.random())+1,a.porcentaje=20*a.puntos/100}),this.grupoEvaluacionesList=e.map(a=>({...a,pregunta_docente:this.sanitizer.bypassSecurityTrustHtml(a.pregunta_docente)})),this.originalgrupoEvaluacionesList=[...this.grupoEvaluacionesList]})}calcularTotales(){let e=0,a=0;this.grupoEvaluacionesList.forEach(r=>{e+=r.promedio||0,a+=r.porcentaje||0}),this.promedioTotal=e/this.grupoEvaluacionesList.length,this.porcentajeTotal=a/this.grupoEvaluacionesList.length}navigateAddCurso(){this.ref=this.dialogService.open(M,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"add",idEvaluacion:this.evaluaciones.id}}),this.ref.onClose.subscribe(e=>{this.listarPreguntas()})}navigateToDetalle(e){this.ref=this.dialogService.open(M,{width:"80%",styleClass:"custom-dialog-header",data:{acciones:"ver",idCurso:this.evaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarPreguntas()})}navigateToEdit(e){this.ref=this.dialogService.open(M,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"actualizar",idCurso:this.evaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarPreguntas()})}navigateToDelete(e){m().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminarlo",customClass:{popup:"custom-swal-popup"},didOpen:()=>{const a=document.querySelector(".swal2-container");a&&a.setAttribute("style","z-index: 2147483647 !important")}}).then(a=>{a.isConfirmed&&this.grupoEvaluacionesService.eliminarGrupoEvaluaciones(e).subscribe(r=>{m().fire({title:"Eliminado",text:"La carrera t\xe9cnica ha sido eliminada.",icon:"success",showClass:{popup:"\n                  background-color: #78CBF2;\n                  color: white;\n                  z-index: 10000!important;\n                "},didOpen:()=>{const i=document.querySelector(".swal2-container");i&&i.setAttribute("style","z-index: 2147483647 !important")}}),this.listarPreguntas()},r=>{m().fire("Error","Hubo un problema al eliminar la carrera t\xe9cnica.","error")})})}onGlobalFilter(e){const a=e.target.value.toLowerCase();this.grupoEvaluacionesList=a?this.originalgrupoEvaluacionesList.filter(r=>r.codigo&&r.codigo.toLowerCase().includes(a)||r.nombres&&r.nombres.toLowerCase().includes(a)||r.cursos&&r.cursos.toLowerCase().includes(a)):[...this.originalgrupoEvaluacionesList]}agregarEvaluaciones(e){this.ref=this.dialogService.open(at,{width:"60%",styleClass:"custom-dialog-header",data:{idCurso:this.evaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarPreguntas()})}corregirPregunta(e){this.ref=this.dialogService.open(De,{width:"60%",styleClass:"custom-dialog-header",data:{idCurso:this.evaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarPreguntas()})}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(h.o3),t.rXU(N.O),t.rXU(h.sb),t.rXU(je.up))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-ver-listado-de-preguntas"]],viewQuery:function(a,r){if(1&a&&(t.GBs(Ge,5),t.GBs(Le,5)),2&a){let i;t.mGM(i=t.lsd())&&(r.filter=i.first),t.mGM(i=t.lsd())&&(r.tabledt1=i.first)}},inputs:{miembro:"miembro"},outputs:{miembrosActualizados:"miembrosActualizados"},decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover","paginator"],["dt1",""],["pTemplate","caption"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar listado de preguntas",1,"w-full",3,"input"],["filter",""],[1,"mb-2"],["pButton","","label","Nuevo","icon","pi pi-user-plus","id","btnNuevo",1,"p-button-primary","mr-2",2,"border-radius","30px",3,"click"],["scope","col",2,"min-width","10rem"],["pButton","","icon","pi pi-eye","title","Ver",1,"p-button-rounded","p-button-text","p-button-success",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-pencil","title","Editar",1,"p-button-rounded","p-button-text","p-button-warning",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-trash","title","Eliminar",1,"p-button-rounded","p-button-text","p-button-danger",2,"width","70px","border-radius","30px",3,"click"],["pTooltip","Responder pregunta","tooltipPosition","top",3,"innerHTML"],["pButton","","label","Corregirrrrrrr",1,"p-button-rounded","p-button-info",3,"click"],["colspan","6"]],template:function(a,r){1&a&&(t.j41(0,"p-panel"),t.DNE(1,Ne,2,0,"ng-template",0),t.DNE(2,Be,10,5,"ng-template",1),t.k0s())},dependencies:[y.Ei,x._f,j.XI,D.S,k.Z,Y.m]})}return n})();var nt=l(247);let Ae=(()=>{class n{constructor(e){this.http=e,this.baseUrl=`${V.c.API_BASE}`,this.httpOptions={headers:new B.Lr({"Content-Type":"application/json"})}}obtenerAlumnosPorEvaluacion(e){return this.http.get(`${this.baseUrl}evaluacionesByalumnos/${e}`,this.httpOptions)}guardarNotas(e){return this.http.post(`${this.baseUrl}evaluacionesByalumnos/guardarNotas`,e,this.httpOptions)}static#t=this.\u0275fac=function(a){return new(a||n)(t.KVO(B.Qq))};static#e=this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Re(n,o){1&n&&(t.j41(0,"span",2),t.EFF(1,"Lista de Alumnos y Registro de Notas"),t.k0s())}function We(n,o){1&n&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"ID Alumno"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Nombre Completo"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Nota Registrada"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Ingresar Nota"),t.k0s()())}function Xe(n,o){if(1&n){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td")(8,"input",11),t.bIt("ngModelChange",function(r){const s=t.eBV(e).$implicit;return t.Njj(s.nota=r)}),t.k0s()()()}if(2&n){const e=o.$implicit;t.R7$(2),t.JRh(e.id),t.R7$(2),t.Lme("",e.nombres," ",e.apellidos,""),t.R7$(2),t.JRh(e.nota||"No asignada"),t.R7$(2),t.Y8G("ngModel",e.nota)}}function $e(n,o){1&n&&(t.j41(0,"tr")(1,"td",12),t.EFF(2,"No hay alumnos registrados"),t.k0s()())}function He(n,o){if(1&n){const e=t.RV6();t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6),t.DNE(4,We,9,0,"ng-template",0),t.DNE(5,Xe,9,5,"ng-template",7),t.DNE(6,$e,3,0,"ng-template",8),t.k0s()()()(),t.j41(7,"div",3)(8,"div",9)(9,"button",10),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.guardarNotas())}),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(3),t.Y8G("value",e.alumnos)}}let Ue=(()=>{class n{constructor(e,a,r,i){this.ref=e,this.evaluacionesService=a,this.config=r,this.messageService=i,this.alumnos=[],this.evaluacionId=0}ngOnInit(){this.evaluacionId=this.config.data.evaluacionId,console.log(this.evaluacionId),this.obtenerAlumnos()}obtenerAlumnos(){this.evaluacionesService.obtenerAlumnosPorEvaluacion(this.evaluacionId).subscribe(e=>{this.alumnos=e,console.log("Alumnos recibidos:",this.alumnos)},e=>{console.error("Error al obtener alumnos:",e)})}guardarNotas(){const e={evaluacion_id:this.evaluacionId,notas:this.alumnos.map(a=>({alumno_id:a.id,nota:a.nota}))};console.log("Datos a enviar:",e),this.evaluacionesService.guardarNotas(e).subscribe(a=>{this.ref?.close(),m().fire({title:"\xc9xito",text:"Las notas han sido guardadas correctamente.",icon:"success",confirmButtonText:"Aceptar",showClass:{popup:"\n              background-color: #78CBF2;\n              color: white;\n              z-index: 10000!important;\n            "}}).then(()=>{})},a=>{m().fire({title:"Error",text:"Hubo un problema al guardar las notas.",icon:"error",confirmButtonText:"Aceptar",showClass:{popup:"\n              background-color: #F27474;\n              color: white;\n              z-index: 10000!important;\n            "}}),console.error("Error al guardar las notas:",a)})}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(h.Pw),t.rXU(Ae),t.rXU(h.sb),t.rXU(y.bg))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-listado-evaluacion-presencial"]],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","col-12"],["responsiveLayout","scroll",1,"p-datatable-gridlines",3,"value"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"col-12","text-right"],["pButton","","label","Guardar Notas",1,"p-button-success",3,"click"],["pInputText","","type","number","placeholder","Ingrese la nota",3,"ngModel","ngModelChange"],["colspan","3"]],template:function(a,r){1&a&&(t.j41(0,"p-panel"),t.DNE(1,Re,2,0,"ng-template",0),t.DNE(2,He,10,1,"ng-template",1),t.k0s())},dependencies:[y.Ei,u.me,u.Q0,u.BC,u.vS,x._f,j.XI,D.S,k.Z]})}return n})();var ze=l(8763);const Qe=["filter"],qe=["dt1"];function Je(n,o){1&n&&(t.j41(0,"span",2),t.EFF(1,"Listado de evaluaciones por grupo"),t.k0s())}function Ze(n,o){if(1&n){const e=t.RV6();t.j41(0,"div",18)(1,"button",19),t.bIt("click",function(){t.eBV(e);const r=t.XpG(3);return t.Njj(r.navigateAddCurso())}),t.k0s()()}}function Ke(n,o){if(1&n){const e=t.RV6();t.j41(0,"div",12)(1,"div",13)(2,"span",14)(3,"input",15,16),t.bIt("input",function(r){t.eBV(e);const i=t.XpG(2);return t.Njj(i.onGlobalFilter(r))}),t.k0s()()(),t.DNE(5,Ze,2,0,"div",17),t.k0s()}if(2&n){const e=t.XpG(2);t.R7$(5),t.Y8G("ngIf",12!==e.helpersService.getRolId())}}function tn(n,o){1&n&&(t.j41(0,"tr")(1,"th",20),t.EFF(2,"Acciones"),t.k0s(),t.j41(3,"th",21),t.EFF(4,"ID"),t.k0s(),t.j41(5,"th",21),t.EFF(6,"Evaluaciones"),t.k0s(),t.j41(7,"th",21),t.EFF(8,"Preguntas"),t.k0s(),t.j41(9,"th",21),t.EFF(10,"Promedio de notas"),t.k0s(),t.j41(11,"th",21),t.EFF(12,"Fecha y Hora"),t.k0s(),t.j41(13,"th",21),t.EFF(14,"Observaciones"),t.k0s(),t.j41(15,"th",21),t.EFF(16,"Estado"),t.k0s(),t.j41(17,"th",21),t.EFF(18,"Modalidad"),t.k0s()())}function en(n,o){if(1&n){const e=t.RV6();t.j41(0,"tr")(1,"td")(2,"button",22),t.bIt("click",function(){const i=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.navigateToEdit(i))}),t.k0s(),t.j41(3,"button",23),t.bIt("click",function(){const i=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.navigateToDelete(i.id))}),t.k0s()(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td"),t.EFF(7),t.k0s(),t.j41(8,"td")(9,"button",24),t.bIt("click",function(){const i=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.agregarPreguntas(i))}),t.k0s()(),t.j41(10,"td"),t.EFF(11),t.k0s(),t.j41(12,"td"),t.EFF(13),t.k0s(),t.j41(14,"td"),t.EFF(15),t.k0s(),t.j41(16,"td"),t.EFF(17),t.k0s(),t.j41(18,"td"),t.EFF(19),t.k0s()()}if(2&n){const e=o.$implicit,a=t.XpG(2);t.R7$(5),t.JRh(e.id),t.R7$(2),t.JRh(e.nombre),t.R7$(4),t.JRh(e.porcentaje_evaluacion),t.R7$(2),t.JRh(e.fecha_y_hora_programo),t.R7$(2),t.JRh(e.observaciones),t.R7$(2),t.JRh(e.estado_nombre),t.R7$(2),t.JRh(a.getModalidad(e.modalidad))}}function nn(n,o){1&n&&(t.j41(0,"tr")(1,"td",25),t.EFF(2,"No se encontraron registros"),t.k0s()())}function an(n,o){1&n&&(t.j41(0,"tr")(1,"td",25),t.EFF(2,"Cargando registros. Por favor espere."),t.k0s()())}function on(n,o){if(1&n&&(t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.DNE(5,Ke,6,1,"ng-template",8),t.DNE(6,tn,19,0,"ng-template",0),t.DNE(7,en,20,7,"ng-template",9),t.DNE(8,nn,3,0,"ng-template",10),t.DNE(9,an,3,0,"ng-template",11),t.k0s()()()()),2&n){const e=t.XpG();t.R7$(3),t.Y8G("value",e.grupoEvaluacionesList)("rows",10)("loading",e.loading)("rowHover",!0)("paginator",!0)}}let at=(()=>{class n{constructor(e,a,r,i,s){this.helpersService=e,this.dialogService=a,this.grupoEvaluacionesService=r,this.router=i,this.config=s,this.loading=!1,this.miembro=[],this.miembrosActualizados=new t.bkB,this.grupoEvaluacionesList=[],this.originalgrupoEvaluacionesList=[],this.promedioTotal=0,this.porcentajeTotal=0}ngOnInit(){this.grupoEvaluaciones=this.config.data.data,console.log(this.grupoEvaluaciones,"car"),this.listarGrupoEvaluaciones()}listarGrupoEvaluaciones(){this.grupoEvaluacionesService.getListadoDeEvaluacionesPorGrupo({id:this.grupoEvaluaciones.id}).subscribe(e=>{console.log("Datos de evaluaciones recibidos:",e),this.grupoEvaluacionesList=e,this.originalgrupoEvaluacionesList=[...e]},e=>{console.error("Error al listar evaluaciones:",e)})}getModalidad(e){return 0===e?"Presencial":"Remoto"}calcularTotales(){let e=0,a=0;this.grupoEvaluacionesList.forEach(r=>{e+=r.promedio||0,a+=r.porcentaje||0}),this.promedioTotal=e/this.grupoEvaluacionesList.length,this.porcentajeTotal=a/this.grupoEvaluacionesList.length}navigateAddCurso(){this.ref=this.dialogService.open(nt.d,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"registrar",idGrupoEvaluaciones:this.grupoEvaluaciones.id}}),this.ref.onClose.subscribe(()=>{this.listarGrupoEvaluaciones()})}navigateToEdit(e){e&&e.id?(this.ref=this.dialogService.open(nt.d,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"actualizar",idEvaluacion:e.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarGrupoEvaluaciones()})):console.error("Evaluaci\xf3n no v\xe1lida o sin ID",e)}navigateToDelete(e){m().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminarlo",customClass:{popup:"custom-swal-popup"},didOpen:()=>{const a=document.querySelector(".swal2-container");a&&a.setAttribute("style","z-index: 2147483647 !important")}}).then(a=>{a.isConfirmed&&this.grupoEvaluacionesService.eliminarListadoDeEvaluacionesPorGrupo(e).subscribe(r=>{m().fire({title:"Eliminado",text:"La carrera t\xe9cnica ha sido eliminada.",icon:"success",showClass:{popup:"\n                  background-color: #78CBF2;\n                  color: white;\n                  z-index: 10000!important;\n                "},didOpen:()=>{const i=document.querySelector(".swal2-container");i&&i.setAttribute("style","z-index: 2147483647 !important")}}),this.listarGrupoEvaluaciones()},r=>{m().fire("Error","Hubo un problema al eliminar la carrera t\xe9cnica.","error")})})}onGlobalFilter(e){const a=e.target.value.toLowerCase();this.grupoEvaluacionesList=a?this.originalgrupoEvaluacionesList.filter(r=>r.codigo&&r.codigo.toLowerCase().includes(a)||r.nombres&&r.nombres.toLowerCase().includes(a)||r.cursos&&r.cursos.toLowerCase().includes(a)):[...this.originalgrupoEvaluacionesList]}agregarPreguntas(e){this.ref=0===e.modalidad?this.dialogService.open(Ue,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"add",grupoEvaluacionesId:this.grupoEvaluaciones.id,data:e,evaluacionId:e.id}}):this.dialogService.open(Ye,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"add",grupoEvaluacionesId:this.grupoEvaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{console.log("Modal cerrado, recargando la lista de evaluaciones..."),this.listarGrupoEvaluaciones()})}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(et.V),t.rXU(h.o3),t.rXU(N.O),t.rXU(ze.Ix),t.rXU(h.sb))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-ver-lis-eval-grupo"]],viewQuery:function(a,r){if(1&a&&(t.GBs(Qe,5),t.GBs(qe,5)),2&a){let i;t.mGM(i=t.lsd())&&(r.filter=i.first),t.mGM(i=t.lsd())&&(r.tabledt1=i.first)}},inputs:{miembro:"miembro"},outputs:{miembrosActualizados:"miembrosActualizados"},decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover","paginator"],["dt1",""],["pTemplate","caption"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar por listado de evaluaciones por grupo",1,"w-full",3,"input"],["filter",""],["class","mb-2",4,"ngIf"],[1,"mb-2"],["pButton","","label","Nuevo","icon","pi pi-user-plus","id","btnNuevo",1,"p-button-primary","mr-2",2,"border-radius","30px",3,"click"],["scope","col",2,"min-width","5rem"],["scope","col",2,"min-width","10rem"],["pButton","","icon","pi pi-pencil","title","Editar",1,"p-button-rounded","p-button-text","p-button-warning",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-trash","title","Eliminar",1,"p-button-rounded","p-button-text","p-button-danger",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-list","pTooltip","Listado de preguntas","tooltipPosition","top",1,"p-button-rounded","p-button-info",3,"click"],["colspan","12"]],template:function(a,r){1&a&&(t.j41(0,"p-panel"),t.DNE(1,Je,2,0,"ng-template",0),t.DNE(2,on,10,5,"ng-template",1),t.k0s())},dependencies:[I.bT,y.Ei,x._f,j.XI,D.S,k.Z,Y.m]})}return n})();const rn=["filter"],sn=["dt1"];function cn(n,o){1&n&&(t.j41(0,"span",2),t.EFF(1,"Grupos de evaluaciones del docente"),t.k0s())}function un(n,o){if(1&n){const e=t.RV6();t.j41(0,"div",12)(1,"div",13)(2,"span",14)(3,"input",15,16),t.bIt("input",function(r){t.eBV(e);const i=t.XpG(2);return t.Njj(i.onGlobalFilter(r))}),t.k0s()()(),t.j41(5,"div",17)(6,"button",18),t.bIt("click",function(){t.eBV(e);const r=t.XpG(2);return t.Njj(r.navigateAddCurso())}),t.k0s()()()}}function ln(n,o){1&n&&(t.j41(0,"tr")(1,"th",19),t.EFF(2,"Acciones"),t.k0s(),t.j41(3,"th",19),t.EFF(4,"ID"),t.k0s(),t.j41(5,"th",19),t.EFF(6,"Nombre del grupo"),t.k0s(),t.j41(7,"th",19),t.EFF(8,"Evaluaciones"),t.k0s(),t.j41(9,"th",19),t.EFF(10,"Promedio"),t.k0s(),t.j41(11,"th",19),t.EFF(12,"%"),t.k0s()())}function dn(n,o){if(1&n){const e=t.RV6();t.j41(0,"tr")(1,"td")(2,"button",20),t.bIt("click",function(){const i=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.navigateToDetalle(i))}),t.k0s(),t.j41(3,"button",21),t.bIt("click",function(){const i=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.navigateToEdit(i))}),t.k0s(),t.j41(4,"button",22),t.bIt("click",function(){const i=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.navigateToDelete(i.id))}),t.k0s()(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td")(10,"button",23),t.bIt("click",function(){const i=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.agregarEvaluaciones(i))}),t.k0s()(),t.j41(11,"td"),t.EFF(12),t.k0s(),t.j41(13,"td"),t.EFF(14),t.k0s()()}if(2&n){const e=o.$implicit;t.R7$(6),t.JRh(e.id),t.R7$(2),t.JRh(e.nombre_del_grupo),t.R7$(4),t.JRh(e.promedio),t.R7$(2),t.SpI("",e.porcentaje,"%")}}function pn(n,o){1&n&&(t.j41(0,"tr")(1,"td",24),t.EFF(2,"No se encontraron registros"),t.k0s()())}function mn(n,o){1&n&&(t.j41(0,"tr")(1,"td",24),t.EFF(2,"Cargando registros. Por favor espere."),t.k0s()())}function gn(n,o){if(1&n&&(t.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),t.DNE(5,un,7,0,"ng-template",8),t.DNE(6,ln,13,0,"ng-template",0),t.DNE(7,dn,15,4,"ng-template",9),t.DNE(8,pn,3,0,"ng-template",10),t.DNE(9,mn,3,0,"ng-template",11),t.k0s()()()()),2&n){const e=t.XpG();t.R7$(3),t.Y8G("value",e.grupoEvaluacionesList)("rows",10)("loading",e.loading)("rowHover",!0)("paginator",!0)}}let hn=(()=>{class n{constructor(e,a,r){this.dialogService=e,this.grupoEvaluacionesService=a,this.config=r,this.loading=!1,this.miembro=[],this.miembrosActualizados=new t.bkB,this.grupoEvaluacionesList=[],this.originalgrupoEvaluacionesList=[],this.promedioTotal=0,this.porcentajeTotal=0}ngOnInit(){this.grupoEvaluaciones=this.config.data.data||this.config.data,console.log("Datos recibidos en VerGrupoEvaluacionesComponent:",this.grupoEvaluaciones),this.grupoEvaluaciones&&this.grupoEvaluaciones.id?(console.log("ID de curso recibido en VerGrupoEvaluacionesComponent:",this.grupoEvaluaciones.id),this.listarGrupoEvaluaciones()):console.error("No se recibi\xf3 un ID de curso v\xe1lido en VerGrupoEvaluacionesComponent.")}listarGrupoEvaluaciones(){this.grupoEvaluaciones&&this.grupoEvaluaciones.id?(this.grupoEvaluacionesService.getGrupoEvaluaciones({id:this.grupoEvaluaciones.id}).subscribe(e=>{this.grupoEvaluacionesList=e,this.originalgrupoEvaluacionesList=[...e]}),console.log("ID de grupo para obtener evaluaciones:",this.grupoEvaluaciones.id)):console.error("No se pudo listar las evaluaciones porque el ID de grupo es inv\xe1lido o no est\xe1 definido.")}calcularTotales(){let e=0,a=0;this.grupoEvaluacionesList.forEach(r=>{e+=r.promedio||0,a+=r.porcentaje||0}),this.promedioTotal=e/this.grupoEvaluacionesList.length,this.porcentajeTotal=a/this.grupoEvaluacionesList.length}navigateAddCurso(){this.ref=this.dialogService.open(O.Y,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"add",idCurso:this.grupoEvaluaciones.id}}),this.ref.onClose.subscribe(e=>{this.listarGrupoEvaluaciones()})}navigateToDetalle(e){this.ref=this.dialogService.open(O.Y,{width:"80%",styleClass:"custom-dialog-header",data:{acciones:"ver",idCurso:this.grupoEvaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarGrupoEvaluaciones()})}navigateToEdit(e){this.ref=this.dialogService.open(O.Y,{width:"60%",styleClass:"custom-dialog-header",data:{acciones:"actualizar",idCurso:this.grupoEvaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarGrupoEvaluaciones()})}navigateToDelete(e){m().fire({title:"\xbfEst\xe1s seguro?",text:"No podr\xe1s revertir esto",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminarlo",customClass:{popup:"custom-swal-popup"},didOpen:()=>{const a=document.querySelector(".swal2-container");a&&a.setAttribute("style","z-index: 2147483647 !important")}}).then(a=>{a.isConfirmed&&this.grupoEvaluacionesService.eliminarGrupoEvaluaciones(e).subscribe(r=>{m().fire({title:"Eliminado",text:"La carrera t\xe9cnica ha sido eliminada.",icon:"success",showClass:{popup:"\n                  background-color: #78CBF2;\n                  color: white;\n                  z-index: 10000!important;\n                "},didOpen:()=>{const i=document.querySelector(".swal2-container");i&&i.setAttribute("style","z-index: 2147483647 !important")}}),this.listarGrupoEvaluaciones()},r=>{m().fire("Error","Hubo un problema al eliminar la carrera t\xe9cnica.","error")})})}onGlobalFilter(e){const a=e.target.value.toLowerCase();this.grupoEvaluacionesList=a?this.originalgrupoEvaluacionesList.filter(r=>r.codigo&&r.codigo.toLowerCase().includes(a)||r.nombres&&r.nombres.toLowerCase().includes(a)||r.cursos&&r.cursos.toLowerCase().includes(a)):[...this.originalgrupoEvaluacionesList]}agregarEvaluaciones(e){this.ref=this.dialogService.open(at,{width:"60%",styleClass:"custom-dialog-header",data:{idCurso:this.grupoEvaluaciones.id,data:e}}),this.ref.onClose.subscribe(a=>{this.listarGrupoEvaluaciones()})}static#t=this.\u0275fac=function(a){return new(a||n)(t.rXU(h.o3),t.rXU(N.O),t.rXU(h.sb))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-ver-g-ev"]],viewQuery:function(a,r){if(1&a&&(t.GBs(rn,5),t.GBs(sn,5)),2&a){let i;t.mGM(i=t.lsd())&&(r.filter=i.first),t.mGM(i=t.lsd())&&(r.tabledt1=i.first)}},inputs:{miembro:"miembro"},outputs:{miembrosActualizados:"miembrosActualizados"},decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover","paginator"],["dt1",""],["pTemplate","caption"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar grupos de evaluaciones",1,"w-full",3,"input"],["filter",""],[1,"mb-2"],["pButton","","label","Nuevo","icon","pi pi-user-plus","id","btnNuevo",1,"p-button-primary","mr-2",2,"border-radius","30px",3,"click"],["scope","col",2,"min-width","10rem"],["pButton","","icon","pi pi-eye","title","Ver",1,"p-button-rounded","p-button-text","p-button-success",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-pencil","title","Editar",1,"p-button-rounded","p-button-text","p-button-warning",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-trash","title","Eliminar",1,"p-button-rounded","p-button-text","p-button-danger",2,"width","70px","border-radius","30px",3,"click"],["pButton","","icon","pi pi-plus","pTooltip","Agregar evaluaciones","tooltipPosition","top",1,"p-button-rounded","p-button-info",3,"click"],["colspan","6"]],template:function(a,r){1&a&&(t.j41(0,"p-panel"),t.DNE(1,cn,2,0,"ng-template",0),t.DNE(2,gn,10,5,"ng-template",1),t.k0s())},dependencies:[y.Ei,x._f,j.XI,D.S,k.Z,Y.m]})}return n})()}}]);