"use strict";(self.webpackChunkapollo_ng=self.webpackChunkapollo_ng||[]).push([[5260],{5260:(Ge,y,l)=>{l.r(y),l.d(y,{DocentesModule:()=>Ie});var b=l(177),D=l(9998),a=l(9417),k=l(9280),j=l(1141),C=l(2242),U=l(3973),V=l(563),w=l(6296),x=l(8150),_=l(5473),Y=l(612),O=l(1579),A=l(9266),J=l(4714),E=l(320),N=l(7835),z=l(1305),L=l(8542),P=l(4799),H=l(1142),Q=l(6781),u=l(2100),S=l(9664),v=l(8763),p=l(5779),B=l(950),Z=l(8032),F=l.n(Z),e=l(7019),T=l(3088),m=l(1626),X=l(3587);let I=(()=>{class n{constructor(t,o,i){this.http=t,this.httpClientFormData=o,this.handler=i,this.baseUrl=`${X.c.API_BASE}`,this.urlparametro=`${X.c.API_BASE}`,this.httpOptions={headers:new m.Lr({"Content-Type":"application/json"})},this.httpClientFormData=new m.Qq(this.handler)}listarDocentes(t){return this.http.get(`${this.baseUrl}docentes/listar/${t}`)}getLoggedDocente(t,o){return this.http.get(`${this.baseUrl}docentes/logged/${t}/${o}`)}buscarDocentes(t){return this.http.get(`${this.baseUrl}docentes/listar/${t}`)}registrarDocentes(t){return this.http.post(`${this.baseUrl}docentes/registrar`,t)}actualizarDocentes(t){const o=new m.Lr({"Content-Type":"application/json"});return this.http.put(`${this.baseUrl}docentes/actualizar/${t.id}`,t,{headers:o})}eliminarDocentes(t){return this.http.delete(`${this.baseUrl}docentes/eliminar/${t}`)}static#e=this.\u0275fac=function(o){return new(o||n)(e.KVO(m.Qq),e.KVO(m.Qq),e.KVO(m.JV))};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var G=l(8774);function K(n,s){1&n&&(e.j41(0,"span",2),e.EFF(1,"Registrar Docente "),e.k0s())}const M=function(){return{standalone:!0}};function W(n,s){if(1&n){const t=e.RV6();e.j41(0,"form",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7),e.nrm(5,"i",8)(6,"input",9),e.j41(7,"label",10),e.EFF(8,"C\xf3digo"),e.k0s()(),e.j41(9,"small",11),e.EFF(10,"Campo obligatorio *"),e.k0s()(),e.j41(11,"div",6)(12,"span",7),e.nrm(13,"i",8)(14,"input",12),e.j41(15,"label",13),e.EFF(16,"Nombres y Apellidos"),e.k0s()(),e.j41(17,"small",11),e.EFF(18,"Campo obligatorio *"),e.k0s()()()(),e.j41(19,"div",4)(20,"div",5)(21,"div",6)(22,"span",7),e.nrm(23,"i",8)(24,"input",14),e.j41(25,"label",15),e.EFF(26,"Email"),e.k0s()(),e.j41(27,"small",11),e.EFF(28,"Campo obligatorio *"),e.k0s()(),e.j41(29,"div",6)(30,"span",7),e.nrm(31,"i",8)(32,"input",16),e.j41(33,"label",17),e.EFF(34,"Contrase\xf1a"),e.k0s()(),e.j41(35,"small",11),e.EFF(36,"Campo obligatorio *"),e.k0s()()()(),e.j41(37,"div",4)(38,"div",5)(39,"div",6)(40,"span",7),e.nrm(41,"i",8)(42,"input",18),e.j41(43,"label",19),e.EFF(44,"Celular"),e.k0s()(),e.j41(45,"small",11),e.EFF(46,"Campo obligatorio *"),e.k0s()(),e.j41(47,"div",6)(48,"span",7),e.nrm(49,"i",8)(50,"input",20),e.j41(51,"label",21),e.EFF(52,"Profesi\xf3n"),e.k0s()(),e.j41(53,"small",11),e.EFF(54,"Campo obligatorio *"),e.k0s()()()(),e.j41(55,"div",4)(56,"div",5)(57,"div",6)(58,"span",22)(59,"p-dropdown",23),e.bIt("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.tipoDocumentoSeleccionado=i)}),e.k0s(),e.j41(60,"label",24),e.EFF(61,"Tipo de documento "),e.k0s(),e.j41(62,"small",11),e.EFF(63,"Campo obligatorio * "),e.k0s()()(),e.j41(64,"div",6)(65,"span",7),e.nrm(66,"i",8)(67,"input",25),e.j41(68,"label",26),e.EFF(69,"Doc. de Identidad"),e.k0s()(),e.j41(70,"small",11),e.EFF(71,"Campo obligatorio *"),e.k0s()(),e.j41(72,"div",6)(73,"span",7)(74,"p-dropdown",23),e.bIt("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.tipoGeneroSeleccionado=i)}),e.k0s(),e.j41(75,"label",24),e.EFF(76,"Genero "),e.k0s(),e.j41(77,"small",11),e.EFF(78,"Campo obligatorio * "),e.k0s()()(),e.j41(79,"div",6)(80,"span",7),e.nrm(81,"i",8)(82,"input",27),e.j41(83,"label",28),e.EFF(84,"Fecha nacimiento"),e.k0s()(),e.j41(85,"small",11),e.EFF(86,"Campo obligatorio *"),e.k0s()()()(),e.j41(87,"div",4)(88,"div",5)(89,"div",6),e.nrm(90,"p-toast"),e.j41(91,"p-fileUpload",29),e.bIt("onSelect",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.onFileChange(i))}),e.k0s()()()()(),e.j41(92,"div",30)(93,"button",31),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.registrarDocente())}),e.k0s(),e.j41(94,"button",32),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closeModal())}),e.k0s()()}if(2&n){const t=e.XpG();e.Y8G("formGroup",t.DocenteForm),e.R7$(59),e.Y8G("autoDisplayFirst",!1)("options",t.tipodocu)("ngModel",t.tipoDocumentoSeleccionado)("ngModelOptions",e.lJ4(9,M)),e.R7$(15),e.Y8G("autoDisplayFirst",!1)("options",t.tipoGenero)("ngModel",t.tipoGeneroSeleccionado)("ngModelOptions",e.lJ4(10,M))}}let q=(()=>{class n{constructor(t,o,i,r,c,d,g,f,h,R){this.router=t,this.ref=o,this.cdr=i,this.config=r,this.parametroService=c,this.translate=d,this.messageService=g,this.formBuilder=f,this.docenteService=h,this.helpersService=R,this.domain_id=1,this.calendarOptions={initialView:"dayGridMonth",locale:B.A},this.selectedFile=null,this.domain_id=this.helpersService.getDominioId(),this.DocenteForm=this.formBuilder.group({codigo:["",a.k0.required],nombres:["",a.k0.required],contrase\u00f1a:["",a.k0.required],celular:["",a.k0.required],profesion:["",a.k0.required],genero:["",a.k0.required],tipo_documento:["",a.k0.required],doc_identidad:["",a.k0.required],fecha_nacimiento:["",a.k0.required],email:["",a.k0.required],foto:[""]})}ngOnInit(){this.tipodocu=[{name:"DNI",value:1,code:"NY"},{name:"PASAPORTE",value:2,code:"RM"}],this.tipoGenero=[{name:"Masculino",value:1},{name:"Femenino",value:2}],this.translate?this.translateChange("es"):console.error("TranslateService is not initialized.")}registrarDocente(){if(this.DocenteForm.patchValue({tipo_documento:this.tipoDocumentoSeleccionado?.name,genero:this.tipoGeneroSeleccionado?.name}),this.DocenteForm.invalid)return;const t={codigo:this.DocenteForm.get("codigo")?.value,nombres:this.DocenteForm.get("nombres")?.value,contrase\u00f1a:this.DocenteForm.get("contrase\xf1a")?.value,celular:this.DocenteForm.get("celular")?.value,profesion:this.DocenteForm.get("profesion")?.value,tipo_documento:this.DocenteForm.get("tipo_documento")?.value,doc_identidad:this.DocenteForm.get("doc_identidad")?.value,fecha_nacimiento:this.DocenteForm.get("fecha_nacimiento")?.value,genero:this.DocenteForm.get("genero")?.value,roles:"seguridad,aula_virtual",email:this.DocenteForm.get("email")?.value,domain_id:this.domain_id,foto:this.DocenteForm.get("foto")?.value};console.log("JSON enviado al backend:",JSON.stringify(t,null,2)),this.docenteService.registrarDocentes(t).subscribe(o=>{o.Exito&&(F().fire({title:"Registrado correctamente!",icon:"success"}),this.closeModal())},o=>{console.error("Error en la solicitud HTTP:",o),this.helpersService.showErrorMessage("Error al registrar")})}onFileChange(t){const o=t.files[0],i=new FileReader;i.onload=()=>{this.DocenteForm.patchValue({foto:i.result})},i.readAsDataURL(o)}cambiarIdioma(){this.translateService.use("es")}translateChange(t){this.translate?this.translate.use(t):console.error("TranslateService is not initialized.")}onUpload(t){this.messageService.add({severity:"info",summary:"Success",detail:"Archivo cargado correctamente"})}closeModal(){this.ref.close({register:!1})}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(v.Ix),e.rXU(u.Pw),e.rXU(e.gRc),e.rXU(u.sb),e.rXU(T.O),e.rXU(S.c$),e.rXU(p.bg),e.rXU(a.ok),e.rXU(I),e.rXU(G.V))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-reg-docente"]],features:[e.Jv_([p.bg])],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup"],[1,"row"],[1,"grid","p-fluid"],[1,"field","md:col-6"],[1,"p-float-label","p-input-icon-left"],[1,"pi","pi-user-edit"],["type","text","id","codigo","formControlName","codigo","pInputText",""],["for","codigo"],[2,"color","brown"],["type","text","id","nombres","formControlName","nombres","pInputText",""],["for","nombres"],["type","text","id","email","formControlName","email","pInputText",""],["for","email"],["type","text","id","contrase\xf1a","formControlName","contrase\xf1a","pInputText",""],["for","contrase\xf1a"],["type","text","id","celular","formControlName","celular","pInputText",""],["for","celular"],["type","text","id","profesion","formControlName","profesion","pInputText",""],["for","profesion"],[1,"p-float-label"],["inputId","dropdown","optionLabel","name",3,"autoDisplayFirst","options","ngModel","ngModelOptions","ngModelChange"],["for","dropdown"],["type","text","id","doc_identidad","formControlName","doc_identidad","pInputText",""],["for","doc_identidad"],["type","date","id","fecha_nacimiento","formControlName","fecha_nacimiento","pInputText",""],["for","fecha_nacimiento"],["mode","basic","chooseLabel","Subir foto","chooseIcon","pi pi-upload","name","demo[]","url","https://www.primefaces.org/cdn/api/upload.php","accept","image/*",3,"onSelect"],[1,"row","mb-5","text-right"],["pButton","","label","Guardar","icon","pi pi-plus","id","btnGuardar",1,"p-button-success","mr-2",3,"click"],["pButton","","label","Cancelar","icon","pi pi-times","id","btnCancelar",1,"p-button-danger",3,"click"]],template:function(o,i){1&o&&(e.j41(0,"p-panel"),e.DNE(1,K,2,0,"ng-template",0),e.DNE(2,W,95,11,"ng-template",1),e.k0s())},dependencies:[a.qT,a.me,a.BC,a.cb,a.vS,j._f,p.Ei,C.S,x.ms,_.Z,D.y8,E.N,a.j4,a.JD]})}return n})();function ee(n,s){1&n&&(e.j41(0,"span",2),e.EFF(1,"Actualizar Docente"),e.k0s())}function te(n,s){1&n&&(e.j41(0,"small",38),e.EFF(1,"Campo obligatorio *"),e.k0s())}function oe(n,s){1&n&&(e.j41(0,"small",38),e.EFF(1,"Campo obligatorio *"),e.k0s())}function ne(n,s){1&n&&(e.j41(0,"small",38),e.EFF(1,"Campo obligatorio *"),e.k0s())}function ie(n,s){1&n&&(e.j41(0,"small",38),e.EFF(1,"Campo obligatorio *"),e.k0s())}function ae(n,s){1&n&&(e.j41(0,"small",38),e.EFF(1,"Campo obligatorio *"),e.k0s())}function le(n,s){1&n&&(e.j41(0,"small",38),e.EFF(1,"Campo obligatorio *"),e.k0s())}function re(n,s){1&n&&(e.j41(0,"small",38),e.EFF(1,"Campo obligatorio *"),e.k0s())}function se(n,s){1&n&&(e.j41(0,"small",38),e.EFF(1,"Campo obligatorio *"),e.k0s())}function ce(n,s){1&n&&(e.j41(0,"small",38),e.EFF(1,"Campo obligatorio *"),e.k0s())}function de(n,s){1&n&&(e.j41(0,"small",38),e.EFF(1,"Campo obligatorio *"),e.k0s())}const $=function(){return{standalone:!0}};function pe(n,s){if(1&n){const t=e.RV6();e.j41(0,"form",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7),e.nrm(5,"i",8)(6,"input",9),e.j41(7,"label",10),e.EFF(8,"C\xf3digo"),e.k0s()(),e.DNE(9,te,2,0,"small",11),e.k0s(),e.j41(10,"div",6)(11,"span",7),e.nrm(12,"i",8)(13,"input",12),e.j41(14,"label",13),e.EFF(15,"Nombres y Apellidos"),e.k0s()(),e.DNE(16,oe,2,0,"small",11),e.k0s()()(),e.j41(17,"div",4)(18,"div",5)(19,"div",6)(20,"span",7),e.nrm(21,"i",8)(22,"input",14),e.j41(23,"label",15),e.EFF(24,"Clave"),e.k0s()(),e.DNE(25,ne,2,0,"small",11),e.k0s()()(),e.j41(26,"div",4)(27,"div",5)(28,"div",6)(29,"span",7),e.nrm(30,"i",16)(31,"input",17),e.j41(32,"label",18),e.EFF(33,"Email"),e.k0s()(),e.DNE(34,ie,2,0,"small",11),e.k0s()()(),e.j41(35,"div",4)(36,"div",5)(37,"div",6)(38,"span",7),e.nrm(39,"i",19)(40,"input",20),e.j41(41,"label",21),e.EFF(42,"Celular"),e.k0s()(),e.DNE(43,ae,2,0,"small",11),e.k0s(),e.j41(44,"div",6)(45,"span",7),e.nrm(46,"i",22)(47,"input",23),e.j41(48,"label",24),e.EFF(49,"Profesi\xf3n"),e.k0s()(),e.DNE(50,le,2,0,"small",11),e.k0s()()(),e.j41(51,"div",4)(52,"div",5)(53,"div",6)(54,"span",25)(55,"p-dropdown",26),e.bIt("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.tipoDocumentoSeleccionado=i)}),e.k0s(),e.j41(56,"label",27),e.EFF(57,"Tipo de documento"),e.k0s(),e.DNE(58,re,2,0,"small",11),e.k0s()(),e.j41(59,"div",6)(60,"span",7),e.nrm(61,"i",28)(62,"input",29),e.j41(63,"label",30),e.EFF(64,"Doc. de Identidad"),e.k0s()(),e.DNE(65,se,2,0,"small",11),e.k0s()()(),e.j41(66,"div",4)(67,"div",5)(68,"div",6)(69,"span",25)(70,"p-dropdown",26),e.bIt("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.tipoGeneroSeleccionado=i)}),e.k0s(),e.j41(71,"label",27),e.EFF(72,"G\xe9nero"),e.k0s(),e.DNE(73,ce,2,0,"small",11),e.k0s()()()(),e.j41(74,"div",4)(75,"div",5)(76,"div",6)(77,"span",7),e.nrm(78,"i",31)(79,"input",32),e.j41(80,"label",33),e.EFF(81,"Fecha nacimiento"),e.k0s()(),e.DNE(82,de,2,0,"small",11),e.k0s()()(),e.j41(83,"div",4)(84,"div",5)(85,"div",6),e.nrm(86,"p-toast"),e.j41(87,"p-fileUpload",34),e.bIt("onSelect",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.onFileChange(i))}),e.k0s()()()()(),e.j41(88,"div",35)(89,"button",36),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.actualizarDocente())}),e.k0s(),e.j41(90,"button",37),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closeModal())}),e.k0s()()}if(2&n){const t=e.XpG();let o,i,r,c,d,g,f,h;e.Y8G("formGroup",t.DocenteForm),e.R7$(9),e.Y8G("ngIf",t.formSubmitted&&(null==(o=t.DocenteForm.get("codigo"))?null:o.invalid)),e.R7$(7),e.Y8G("ngIf",t.formSubmitted&&(null==(i=t.DocenteForm.get("nombres"))?null:i.invalid)),e.R7$(9),e.Y8G("ngIf",t.formSubmitted&&(null==(r=t.DocenteForm.get("clave"))?null:r.invalid)),e.R7$(9),e.Y8G("ngIf",t.formSubmitted&&(null==(c=t.DocenteForm.get("email"))?null:c.invalid)),e.R7$(9),e.Y8G("ngIf",t.formSubmitted&&(null==(d=t.DocenteForm.get("celular"))?null:d.invalid)),e.R7$(7),e.Y8G("ngIf",t.formSubmitted&&(null==(g=t.DocenteForm.get("profesion"))?null:g.invalid)),e.R7$(5),e.Y8G("autoDisplayFirst",!1)("options",t.tipodocu)("ngModel",t.tipoDocumentoSeleccionado)("ngModelOptions",e.lJ4(19,$)),e.R7$(3),e.Y8G("ngIf",t.formSubmitted&&!t.tipoDocumentoSeleccionado),e.R7$(7),e.Y8G("ngIf",t.formSubmitted&&(null==(f=t.DocenteForm.get("doc_identidad"))?null:f.invalid)),e.R7$(5),e.Y8G("autoDisplayFirst",!1)("options",t.tipoGenero)("ngModel",t.tipoGeneroSeleccionado)("ngModelOptions",e.lJ4(20,$)),e.R7$(3),e.Y8G("ngIf",t.formSubmitted&&!t.tipoGeneroSeleccionado),e.R7$(9),e.Y8G("ngIf",t.formSubmitted&&(null==(h=t.DocenteForm.get("fecha_nacimiento"))?null:h.invalid))}}let me=(()=>{class n{constructor(t,o,i,r,c,d,g,f,h,R){this.router=t,this.ref=o,this.cdr=i,this.config=r,this.parametroService=c,this.translate=d,this.messageService=g,this.formBuilder=f,this.docenteService=h,this.helpersService=R,this.domain_id=1,this.calendarOptions={initialView:"dayGridMonth",locale:B.A},this.selectedFile=null,this.base64=null,this.formSubmitted=!1,this.DocenteForm=this.formBuilder.group({id:[0],codigo:["",a.k0.required],nombres:["",a.k0.required],clave:["",a.k0.required],celular:["",a.k0.required],profesion:["",a.k0.required],edad:[0,a.k0.required],genero:["",a.k0.required],tipo_documento:["",a.k0.required],doc_identidad:["",a.k0.required],vinculo_laboral:["",a.k0.required],fecha_nacimiento:["",a.k0.required],email:["",a.k0.required],roles:[""]})}ngOnInit(){console.log(this.config.data),this.domain_id=this.helpersService.getDominioId(),this.tipodocu=[{name:"DNI",value:1,code:"NY"},{name:"PASAPORTE",value:2,code:"RM"}],this.tipoGenero=[{name:"Masculino",value:1},{name:"Femenino",value:2}];const t=this.tipodocu.find(i=>i.name==this.config.data.tipo_documento);t&&(this.tipoDocumentoSeleccionado={code:t.code,name:t.name,value:t.value});const o=this.tipoGenero.find(i=>i.name==this.config.data.genero);o&&(this.tipoGeneroSeleccionado={name:o.name,value:o.value}),this.base64=this.config.data.foto,this.DocenteForm.patchValue({id:this.config.data.id,codigo:this.config.data.codigo,nombres:this.config.data.nombres,clave:this.config.data.clave,celular:this.config.data.celular,profesion:this.config.data.profesion,tipo_documento:this.config.data.tipo_documento,doc_identidad:this.config.data.doc_identidad,vinculo_laboral:this.config.data.vinculo_laboral,fecha_nacimiento:this.config.data.fecha_nacimiento,edad:this.config.data.edad,genero:this.config.data.genero,email:this.config.data.email,roles:this.config.data.roles,domain_id:this.domain_id}),this.translate?this.translateChange("es"):console.error("TranslateService is not initialized.")}actualizarDocente(){this.formSubmitted=!0;const t={id:this.DocenteForm.get("id")?.value,codigo:this.DocenteForm.get("codigo")?.value,nombres:this.DocenteForm.get("nombres")?.value,celular:this.DocenteForm.get("celular")?.value,profesion:this.DocenteForm.get("profesion")?.value,tipo_documento:this.tipoDocumentoSeleccionado?.name,doc_identidad:this.DocenteForm.get("doc_identidad")?.value,fecha_nacimiento:this.DocenteForm.get("fecha_nacimiento")?.value,genero:this.tipoGeneroSeleccionado?.name,roles:"seguridad,aula_virtual",email:this.DocenteForm.get("email")?.value,domain_id:this.domain_id},o=this.DocenteForm.get("clave")?.value;o&&(t.clave=o),this.base64&&(t.foto=this.base64),this.docenteService.actualizarDocentes(t).subscribe(i=>{F().fire("\xc9xito","Docente actualizado correctamente","success"),this.closeModal()},i=>{F().fire("Error","Error al actualizar el docente","error")})}onFileChange(t){const o=t.files[0];if(o){const i=new FileReader;i.onload=()=>{this.base64=i.result},i.readAsDataURL(o)}}cambiarIdioma(){this.translateService.use("es")}translateChange(t){this.translate?this.translate.use(t):console.error("TranslateService is not initialized.")}onUpload(t){this.messageService.add({severity:"info",summary:"Success",detail:"Archivo cargado correctamente"})}closeModal(){this.ref.close({mensaje:"cerrando"})}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(v.Ix),e.rXU(u.Pw),e.rXU(e.gRc),e.rXU(u.sb),e.rXU(T.O),e.rXU(S.c$),e.rXU(p.bg),e.rXU(a.ok),e.rXU(I),e.rXU(G.V))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-edit-docente"]],features:[e.Jv_([p.bg])],decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[3,"formGroup"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-6"],[1,"p-float-label","p-input-icon-left"],[1,"pi","pi-user-edit"],["type","text","id","codigo","formControlName","codigo","pInputText",""],["for","codigo"],["style","color: brown",4,"ngIf"],["type","text","id","nombres","formControlName","nombres","pInputText",""],["for","nombres"],["type","password","id","clave","formControlName","clave","pInputText",""],["for","clave"],[1,"pi","pi-envelope"],["type","email","id","email","formControlName","email","pInputText",""],["for","email"],[1,"pi","pi-phone"],["type","text","id","celular","formControlName","celular","pInputText",""],["for","celular"],[1,"pi","pi-briefcase"],["type","text","id","profesion","formControlName","profesion","pInputText",""],["for","profesion"],[1,"p-float-label"],["inputId","dropdown","optionLabel","name",3,"autoDisplayFirst","options","ngModel","ngModelOptions","ngModelChange"],["for","dropdown"],[1,"pi","pi-id-card"],["type","text","id","doc_identidad","formControlName","doc_identidad","pInputText",""],["for","doc_identidad"],[1,"pi","pi-calendar"],["type","date","id","fecha_nacimiento","formControlName","fecha_nacimiento","pInputText",""],["for","fecha_nacimiento"],["mode","basic","chooseLabel","Subir foto","chooseIcon","pi pi-upload","name","demo[]","accept","image/*",3,"onSelect"],[1,"row","mb-5","text-right"],["pButton","","label","Guardar","icon","pi pi-plus","id","btnGuardar",1,"p-button-success","mr-2",3,"click"],["pButton","","label","Cancelar","icon","pi pi-times","id","btnCancelar",1,"p-button-danger",3,"click"],[2,"color","brown"]],template:function(o,i){1&o&&(e.j41(0,"p-panel"),e.DNE(1,ee,2,0,"ng-template",0),e.DNE(2,pe,91,21,"ng-template",1),e.k0s())},dependencies:[b.bT,a.qT,a.me,a.BC,a.cb,a.vS,j._f,p.Ei,C.S,x.ms,_.Z,D.y8,E.N,a.j4,a.JD]})}return n})();const ue=["filter"],ge=["dt1"];function fe(n,s){1&n&&(e.j41(0,"span",2),e.EFF(1,"Bandeja del Docente"),e.k0s())}function he(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",18)(1,"button",19),e.bIt("click",function(){e.eBV(t);const i=e.XpG(3);return e.Njj(i.navigateToNuevo())}),e.k0s()()}}function _e(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",12)(1,"div",13)(2,"span",14)(3,"input",15,16),e.bIt("keyup",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.buscarDocente())})("ngModelChange",function(i){e.eBV(t);const r=e.XpG(2);return e.Njj(r.idDocente=i)}),e.k0s()()(),e.DNE(5,he,2,0,"div",17),e.k0s()}if(2&n){const t=e.XpG(2);e.R7$(3),e.Y8G("ngModel",t.idDocente),e.R7$(2),e.Y8G("ngIf",17!==t.rolId)}}function ve(n,s){1&n&&(e.j41(0,"tr")(1,"th",20)(2,"div",21),e.EFF(3," Acciones "),e.k0s()(),e.j41(4,"th",20)(5,"div",21),e.EFF(6," C\xf3digo "),e.k0s()(),e.j41(7,"th",20)(8,"div",21),e.EFF(9," Nomres y Apellidos "),e.k0s()(),e.j41(10,"th",20)(11,"div",21),e.EFF(12," Celular "),e.k0s()(),e.j41(13,"th",20)(14,"div",21),e.EFF(15," Profesi\xf3n "),e.k0s()(),e.j41(16,"th",20)(17,"div",21),e.EFF(18," Doc. Identidad "),e.k0s()(),e.j41(19,"th",20)(20,"div",21),e.EFF(21," Fecha de Nacimiento "),e.k0s()(),e.j41(22,"th",20)(23,"div",21),e.EFF(24," Edad "),e.k0s()(),e.j41(25,"th",20)(26,"div",21),e.EFF(27," Foto "),e.k0s()()())}const Fe=function(){return{color:"var(--error-color)","font-size":"1.5rem"}};function be(n,s){if(1&n){const t=e.RV6();e.j41(0,"button",26),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG(2);return e.Njj(r.eliminarDocente(i.id))}),e.nrm(1,"i",27),e.k0s()}2&n&&(e.R7$(1),e.Y8G("ngStyle",e.lJ4(1,Fe)))}const De=function(){return{color:"var(--primary-color)","font-size":"1.5rem"}};function je(n,s){if(1&n){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"button",22),e.bIt("click",function(){const r=e.eBV(t).$implicit,c=e.XpG(2);return e.Njj(c.actualizarDocente(r))}),e.nrm(3,"i",23),e.k0s(),e.DNE(4,be,2,2,"button",24),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td"),e.EFF(16),e.k0s(),e.j41(17,"td"),e.EFF(18),e.k0s(),e.j41(19,"td"),e.nrm(20,"img",25),e.k0s()()}if(2&n){const t=s.$implicit,o=e.XpG(2);e.R7$(3),e.Aen(e.lJ4(11,De)),e.R7$(1),e.Y8G("ngIf",17!==o.rolId),e.R7$(2),e.JRh(t.codigo),e.R7$(2),e.JRh(t.nombres),e.R7$(2),e.JRh(t.celular),e.R7$(2),e.JRh(t.profesion),e.R7$(2),e.JRh(t.doc_identidad),e.R7$(2),e.JRh(t.fecha_nacimiento),e.R7$(2),e.JRh(t.edad),e.R7$(2),e.Y8G("src",t.foto,e.B4B)}}function Ce(n,s){1&n&&(e.j41(0,"tr")(1,"td",28),e.EFF(2,"No se encontraron registros"),e.k0s()())}function Ee(n,s){1&n&&(e.j41(0,"tr")(1,"td",28),e.EFF(2,"Cargando registros. Por favor espere."),e.k0s()())}function ke(n,s){if(1&n&&(e.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"p-table",6,7),e.DNE(5,_e,6,2,"ng-template",8),e.DNE(6,ve,28,0,"ng-template",0),e.DNE(7,je,21,12,"ng-template",9),e.DNE(8,Ce,3,0,"ng-template",10),e.DNE(9,Ee,3,0,"ng-template",11),e.k0s()()()()),2&n){const t=e.XpG();e.R7$(3),e.Y8G("value",t.docentes)("rows",10)("loading",t.loading)("rowHover",!0)("paginator",!0)}}let xe=(()=>{class n{constructor(t,o,i,r,c,d){this.http=t,this.dialogService=o,this.maestroService=i,this.router=r,this.docenteService=c,this.helpersService=d,this.docentes=[],this.loading=!1,this.idDocente=0,this.rolId=0,this.domain_id=1}ngOnInit(){this.loading=!0,this.domain_id=this.helpersService.getDominioId(),this.rolId=this.helpersService.getRolId(),console.log("Dominio"+this.domain_id);const t=this.helpersService.getDocenteId();17===this.rolId&&t&&this.docenteService.getLoggedDocente(t,this.domain_id).subscribe(o=>{this.actualizarDocente(o)},o=>{this.loading=!1,console.log("Error al obtener el docente logueado:",o)}),this.loading=!1,this.listarDocente()}listarDocente(){if(this.loading=!0,17===this.helpersService.getRolId()){const o=this.helpersService.getDocenteId();this.docenteService.getLoggedDocente(o,this.domain_id).subscribe(i=>{this.docentes=[i],console.log(i)},i=>{console.log(i)}),this.loading=!1}else this.docenteService.listarDocentes(this.domain_id).subscribe({next:o=>{this.docentes=o.Datos,this.loading=!1},error:o=>{console.error("Error al listar docentes:",o),this.loading=!1}});this.docentes.forEach(o=>{this.convertImageToBase64(o.foto,i=>{o.fotoBase64=i})}),console.log(this.docentes)}buscarDocente(){}eliminarDocente(t){F().fire({title:"Deseas eliminar el docente?",text:"Estos cambios son inreversibles!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si",cancelButtonText:"No"}).then(o=>{o.isConfirmed&&this.docenteService.eliminarDocentes(t).subscribe(i=>{console.log(i),this.listarDocente(),F().fire({title:"Eliminado correctamente!",icon:"success"})},i=>{console.log(i)})}),console.log(t)}convertImageToBase64(t,o){const i=new XMLHttpRequest;i.onload=function(){const r=new FileReader;r.onloadend=function(){o(r.result)},r.readAsDataURL(i.response)},i.open("GET",t),i.responseType="blob",i.send()}actualizarDocente(t){this.ref=this.dialogService.open(me,{width:"60%",styleClass:"custom-dialog-header",data:{id:t.id,codigo:t.codigo,nombres:t.nombres,usuario:t.usuario,clave:t.clave,celular:t.celular,profesion:t.profesion,email:t.email,tipo_documento:t.tipo_documento,doc_identidad:t.doc_identidad,fecha_nacimiento:t.fecha_nacimiento,edad:t.edad,genero:t.genero,roles:"seguridad,aula_virtual"}}),this.ref.onClose.subscribe(o=>{this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.listarDocente()})}cargaInicial(){const t=17===this.helpersService.getRolId();console.log("aaaa"),console.log(t)}navigateToNuevo(){this.ref=this.dialogService.open(q,{width:"60%",styleClass:"custom-dialog-header"}),this.ref.onClose.subscribe(t=>{this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.listarDocente()})}onGlobalFilter(t,o){t.filterGlobal(o.target.value,"contains")}onRowSelect(t){console.log("Organo-colegaido-sect")}onRowUnselect(t){}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(m.Qq),e.rXU(u.o3),e.rXU(T.O),e.rXU(v.Ix),e.rXU(I),e.rXU(G.V))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-bandeja-docente"]],viewQuery:function(o,i){if(1&o&&(e.GBs(ue,5),e.GBs(ge,5)),2&o){let r;e.mGM(r=e.lsd())&&(i.filter=r.first),e.mGM(r=e.lsd())&&(i.tabledt1=r.first)}},decls:3,vars:0,consts:[["pTemplate","header"],["pTemplate","content"],[1,"text-primary","font-semibold","text-xl"],[1,"row","mb-4"],[1,"grid","p-fluid"],[1,"field","md:col-12"],["styleClass","p-datatable-gridlines","responsiveLayout","scroll",1,"custom-search-input",3,"value","rows","loading","rowHover","paginator"],["dt1",""],["pTemplate","caption"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","loadingbody"],[1,"flex","justify-content-between","flex-wrap"],[1,"flex-grow-1","mb-2","mr-2"],[1,"p-input-icon-left","w-full"],["pInputText","","type","text","placeholder","Buscar Docente",1,"w-full",3,"ngModel","keyup","ngModelChange"],["filter",""],["class","mb-2",4,"ngIf"],[1,"mb-2"],["pButton","","label","Nuevo","icon","pi pi-user-plus","id","btnNuevo",1,"p-button-primary","mr-2",2,"border-radius","30px",3,"click"],["scope","col",2,"min-width","10rem"],[1,"flex","justify-content-between","align-items-center"],["pButton","","title","Editar miembro",1,"p-button-rounded","p-button-text","custom-edit-button",2,"width","fit-content",3,"click"],["aria-hidden","true",1,"pi","pi-user-edit"],["style","width: fit-content","pButton","","class","p-button-danger p-button-rounded","title","Eliminar miembro",3,"click",4,"ngIf"],["alt","Foto del docente",2,"width","7rem",3,"src"],["pButton","","title","Eliminar miembro",1,"p-button-danger","p-button-rounded",2,"width","fit-content",3,"click"],["aria-hidden","true",1,"pi","pi-trash",3,"ngStyle"],["colspan","8"]],template:function(o,i){1&o&&(e.j41(0,"p-panel"),e.DNE(1,fe,2,0,"ng-template",0),e.DNE(2,ke,10,5,"ng-template",1),e.k0s())},dependencies:[b.bT,b.B3,a.me,a.BC,a.vS,j._f,p.Ei,k.XI,C.S,_.Z]})}return n})(),Se=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.$C({type:n});static#o=this.\u0275inj=e.G2t({imports:[v.iI.forChild([{path:"",component:xe}]),v.iI]})}return n})();var Te=l(5430);let Ie=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.$C({type:n});static#o=this.\u0275inj=e.G2t({imports:[b.MD,Se,a.YN,Y.rO,k.bG,J.wZ,j.tm,A.SW,C.u,z.f,U.d0,V.Z,w.iV,x.kr,_.b,O.d,D.MB,N.H,E.e,L.S,D.MB,_.b,k.bG,N.H,P.F,E.e,H.sv,Q.P,u.k_,S.h,Te.q4,a.X1]})}return n})()}}]);